{"ast":null,"code":"var _jsxFileName = \"D:\\\\libraryservice\\\\frontpages\\\\src\\\\components\\\\publishers-page\\\\publishers-page.js\";\nimport React, { Component } from \"react\";\nimport \"./publisher-page.css\";\nimport Header from \"../header\";\nimport axios from 'axios';\nimport Spinner from '../spinner';\n\nclass PublishersPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      publishers: [],\n      loading: true,\n      error: false,\n      addPublisher: \"\",\n      editPublisher: \"\",\n      selectedItem: null\n    };\n\n    this.getAllPublishers = () => {\n      axios.get(\"http://localhost:8080/publishers\").then(result => {\n        if (result.data != null) {\n          this.setState({ ...this.state,\n            publishers: result.data,\n            loading: false\n          });\n        }\n      });\n    };\n\n    this.onChangeAddPublisher = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        addPublisher: event.target.value\n      });\n    };\n\n    this.onChangeEditPublisher = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        editPublisher: event.target.value\n      });\n    };\n\n    this.onAddPublisher = async event => {\n      event.preventDefault();\n      const publisher = {\n        publisher: this.state.addPublisher\n      };\n      await axios.post(\"http://localhost:8080/publisher-add\", publisher).then(response => {\n        if (response.data != null) {\n          this.setState({ ...this.state,\n            addPublisher: \"\"\n          });\n        }\n      });\n      this.getAllPublishers();\n    };\n\n    this.onEditPublisher = async event => {\n      event.preventDefault();\n\n      if (this.state.selectedItem != null) {\n        const publisher = {\n          id: this.state.selectedItem,\n          publisher: this.state.editPublisher\n        };\n        await axios.put(\"http://localhost:8080/publisher-edit\", publisher).then(response => {\n          if (response.data != null) {\n            console.log(response.data);\n          }\n        });\n        this.setState({ ...this.state,\n          editPublisher: \"\",\n          selectedItem: null\n        });\n      }\n    };\n\n    this.onDeletePublisher = async event => {\n      event.preventDefault();\n\n      if (this.state.selectedItem != null) {\n        await axios.delete(`http://localhost:8080/publisher-delete/${this.state.selectedItem}`).then(responce => {\n          if (responce.data != null) {\n            console.log(responce.data);\n          }\n        });\n        this.setState({ ...this.state,\n          selectedItem: null\n        });\n        this.getAllPublishers();\n      }\n    };\n\n    this.selectedRow = (id, publisher) => {\n      this.setState({ ...this.state,\n        editPublisher: publisher,\n        selectedItem: id\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getAllPublishers();\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const rows = this.state.publishers.map(({\n      id,\n      publisher\n    }) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"object_id\",\n        value: id,\n        onClick: () => {\n          this.selectedRow(id, publisher);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }\n      }, publisher));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container genres-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, \"Publishers\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"genres-tools\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-danger float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      role: \"button\",\n      onClick: this.onDeletePublisher,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-warning float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#edit-publisher-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-success float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#add-publisher-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse\",\n      id: \"add-publisher-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onAddPublisher,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"genre-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write new publisher here...\",\n      className: \"form-control\",\n      onChange: this.onChangeAddPublisher,\n      value: this.state.addPublisher,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info auth-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 41\n      }\n    }, \"Add\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse\",\n      id: \"edit-publisher-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onEditPublisher,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write new genre here...\",\n      className: \"form-control\",\n      onChange: this.onChangeEditPublisher,\n      value: this.state.editPublisher,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info auth-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 37\n      }\n    }, \"Update\")))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 33\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 33\n      }\n    }, \"Name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 29\n      }\n    }, rows)))));\n  }\n\n}\n\nexport default PublishersPage;","map":{"version":3,"sources":["D:/libraryservice/frontpages/src/components/publishers-page/publishers-page.js"],"names":["React","Component","Header","axios","Spinner","PublishersPage","state","publishers","loading","error","addPublisher","editPublisher","selectedItem","getAllPublishers","get","then","result","data","setState","onChangeAddPublisher","event","preventDefault","target","value","onChangeEditPublisher","onAddPublisher","publisher","post","response","onEditPublisher","id","put","console","log","onDeletePublisher","delete","responce","selectedRow","componentDidMount","render","rows","map"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport \"./publisher-page.css\";\r\nimport Header from \"../header\";\r\nimport axios from 'axios';\r\nimport Spinner from '../spinner';\r\n\r\nclass PublishersPage extends Component {\r\n\r\n    state = {\r\n        publishers : [],\r\n        loading : true,\r\n        error : false,\r\n        addPublisher : \"\",\r\n        editPublisher : \"\",\r\n        selectedItem : null\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getAllPublishers();\r\n    }\r\n\r\n    getAllPublishers = () => {\r\n\r\n        axios.get(\"http://localhost:8080/publishers\")\r\n            .then(result => {\r\n                if(result.data != null) {\r\n                    this.setState({\r\n                        ...this.state,\r\n                        publishers : result.data,\r\n                        loading : false\r\n                    })\r\n                }\r\n            })\r\n    };\r\n\r\n    onChangeAddPublisher = event => {\r\n        event.preventDefault();\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            addPublisher : event.target.value\r\n        })\r\n    };\r\n\r\n    onChangeEditPublisher = event => {\r\n        event.preventDefault();\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            editPublisher : event.target.value\r\n        })\r\n    };\r\n\r\n    onAddPublisher = async event => {\r\n        event.preventDefault();\r\n\r\n        const publisher = {\r\n            publisher : this.state.addPublisher\r\n        };\r\n\r\n        await axios.post(\"http://localhost:8080/publisher-add\", publisher)\r\n                    .then(response => {\r\n                        if(response.data != null) {\r\n                            this.setState({\r\n                                ...this.state,\r\n                                addPublisher : \"\"\r\n                            })\r\n                        }\r\n                    });\r\n\r\n        this.getAllPublishers();\r\n\r\n    };\r\n\r\n    onEditPublisher = async event => {\r\n        event.preventDefault();\r\n\r\n        if(this.state.selectedItem != null) {\r\n            const publisher = {\r\n                id : this.state.selectedItem,\r\n                publisher : this.state.editPublisher\r\n            };\r\n\r\n            await axios.put(\"http://localhost:8080/publisher-edit\", publisher)\r\n                .then(response => {\r\n                    if(response.data != null) {\r\n                        console.log(response.data)\r\n                    }\r\n                });\r\n\r\n            this.setState({\r\n                ...this.state,\r\n                editPublisher : \"\",\r\n                selectedItem : null\r\n            })\r\n        }\r\n\r\n    };\r\n\r\n    onDeletePublisher = async event => {\r\n        event.preventDefault();\r\n\r\n        if(this.state.selectedItem != null) {\r\n            await axios.delete(`http://localhost:8080/publisher-delete/${this.state.selectedItem}`)\r\n                .then(responce => {\r\n                    if(responce.data != null){\r\n                        console.log(responce.data);\r\n                    }\r\n                });\r\n\r\n            this.setState({\r\n                ...this.state,\r\n                selectedItem : null\r\n            });\r\n\r\n            this.getAllPublishers();\r\n        }\r\n    };\r\n\r\n    selectedRow = (id, publisher) => {\r\n        this.setState({\r\n            ...this.state,\r\n            editPublisher : publisher,\r\n            selectedItem : id\r\n        })\r\n    };\r\n\r\n    render() {\r\n\r\n        if(this.state.loading) {\r\n            return <Spinner/>;\r\n        }\r\n\r\n        const rows = this.state.publishers.map(({id, publisher}) => {\r\n            return (\r\n                <tr key={id}>\r\n                    <td><input type=\"radio\" name=\"object_id\" value={id} onClick={() => {this.selectedRow(id, publisher)}}/></td>\r\n                    <td>{publisher}</td>\r\n                </tr>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <Header/>\r\n\r\n                <main role=\"main\">\r\n\r\n                    <div className=\"container genres-page\">\r\n                        <h1>Publishers</h1>\r\n\r\n                        <div className=\"genres-tools\">\r\n                            <a className=\"btn btn-outline-danger float-right my-1 item-control\" data-toggle=\"collapse\" role=\"button\" onClick={this.onDeletePublisher}>\r\n                                <i className=\"fa fa-trash-o\"/>\r\n                            </a>\r\n\r\n                            <a className=\"btn btn-outline-warning float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#edit-publisher-block\" role=\"button\"\r\n                               aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                                <i className=\"fa fa-pencil\"/>\r\n                            </a>\r\n\r\n                            <a className=\"btn btn-outline-success float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#add-publisher-block\" role=\"button\"\r\n                               aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                                <i className=\"fa fa-plus\"/>\r\n                            </a>\r\n                        </div>\r\n\r\n                        <br/>\r\n                        <br/>\r\n\r\n                        <div className=\"collapse\" id=\"add-publisher-block\">\r\n                            <div className=\"card card-body mb-2\">\r\n                                <form onSubmit={this.onAddPublisher}>\r\n                                    <div className=\"genre-form\">\r\n                                        <input type=\"text\" placeholder=\"Write new publisher here...\" className=\"form-control\" onChange={this.onChangeAddPublisher} value={this.state.addPublisher}/>\r\n                                        <button type=\"submit\" className=\"btn btn-info auth-button\">Add</button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"collapse\" id=\"edit-publisher-block\">\r\n                            <div className=\"card card-body\">\r\n                                <form onSubmit={this.onEditPublisher}>\r\n                                    <input type=\"text\" placeholder=\"Write new genre here...\" className=\"form-control\" onChange={this.onChangeEditPublisher} value={this.state.editPublisher}/>\r\n                                    <button type=\"submit\" className=\"btn btn-info auth-button\">Update</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Name</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>{\r\n                                rows\r\n                            }</tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </main>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default PublishersPage;\r\n"]},"metadata":{},"sourceType":"module"}