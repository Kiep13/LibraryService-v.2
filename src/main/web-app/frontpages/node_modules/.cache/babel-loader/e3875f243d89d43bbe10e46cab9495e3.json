{"ast":null,"code":"var _jsxFileName = \"D:\\\\libraryservice\\\\frontpages\\\\src\\\\components\\\\libraries-page\\\\libraries-page.js\";\nimport React, { Component } from \"react\";\nimport \"./libraries-page.css\";\nimport Header from \"../header\";\nimport Spinner from \"../spinner\";\nimport { compose } from \"../../utils\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from 'react-router-dom';\nimport withLibraryService from \"../../hoc\";\nimport { librariesRequested, librariesLoaded, librariesShowAddWindow, librariesShowEditWindow, librariesUpdateAddSurnameField, librariesUpdateAddNameField, librariesUpdateAddAddressField, librariesUpdateAddTelephoneField, librariesUpdateEditNameField, librariesUpdateEditAddressField, librariesUpdateEditTelephoneField, librariesUpdateSelectedItem } from \"../../actions/libraries-actions\";\n\nclass LibrariesPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formError: {\n        addName: \"\",\n        addAddress: \"\",\n        addTelephone: \"\",\n        editName: \"\",\n        editAddress: \"\",\n        editTelephone: \"\"\n      },\n      isAddNameError: false,\n      isAddAddressError: false,\n      isAddTelephoneError: false,\n      isEditNameError: false,\n      isEditAddressError: false,\n      isEditTelephoneError: false\n    };\n    this.regExpTAddress = \"\\d+$\";\n    this.regExpTelephone = \"^\\d{2}\\-\\d{2}\\-\\d{2}$\";\n    this.regExpTelephone2 = \"^[0-9]{2}-[0-9]{2}-[0-9]{2}$\";\n    this.errorNameMessage = \"The length of the library name must be at least 3\";\n    this.errorAddressMessage = \"The address length must be at least 3\";\n    this.errorTelephoneMessage = \"Phone format XX-XX-XX\";\n\n    this.getAllLibraries = async () => {\n      const libraries = await this.props.libraryService.getAllLibraries();\n      this.props.onLoaded(libraries);\n    };\n\n    this.validateTelephone = (telephone, messageField, isErrorField) => {\n      const isError = !this.regExpTelephone.test(telephone);\n      const message = isError ? this.errorTelephoneMessage : \"\";\n      this.changeErrorState(messageField, isErrorField, message, isError);\n    };\n\n    this.validateWord = (word, messageField, isErrorField, errorMess) => {\n      const isError = word.length < 3;\n      const message = isError ? errorMess : \"\";\n      this.changeErrorState(messageField, isErrorField, message, isError);\n    };\n\n    this.changeErrorState = (messageField, isErrorField, message, value) => {\n      this.setState({\n        formError: {\n          [messageField]: message\n        },\n        [isErrorField]: value\n      });\n    };\n\n    this.changeAddName = event => {\n      event.preventDefault();\n      this.validateWord(event.target.value, \"addName\", \"isAddNameError\", this.errorNameMessage);\n      this.props.changeAddName(event.target.value);\n    };\n\n    this.changeAddAddress = event => {\n      event.preventDefault();\n      this.validateWord(event.target.value, \"addAddress\", \"isAddAddressError\", this.errorAddressMessage);\n      this.props.changeAddAddress(event.target.value);\n    };\n\n    this.changeAddTelephone = event => {\n      event.preventDefault();\n      this.validateTelephone(event.target.value, \"addTelephone\", \"isAddTelephoneError\");\n      this.props.changeAddTelephone(event.target.value);\n    };\n\n    this.changeEditName = event => {\n      event.preventDefault();\n      this.validateWord(event.target.value, \"editName\", \"isEditNameError\", this.errorNameMessage);\n      this.props.changeEditName(event.target.value);\n    };\n\n    this.changeEditAddress = event => {\n      event.preventDefault();\n      this.validateWord(event.target.value, \"editAddress\", \"isEditAddressError\", this.errorAddressMessage);\n      this.props.changeEditAddress(event.target.value);\n    };\n\n    this.changeEditTelephone = event => {\n      event.preventDefault();\n      this.validateTelephone(event.target.value, \"editTelephone\", \"isEditTelephoneError\");\n      this.props.changeEditTelephone(event.target.value);\n    };\n\n    this.onAddClick = async event => {\n      event.preventDefault();\n\n      if (!this.props.isEditWindow) {\n        const value = this.props.isAddWindow;\n\n        if (value) {\n          this.changeErrorState(\"addName\", \"isAddNameError\", \"\", false);\n          this.changeErrorState(\"addAddress\", \"isAddAddressError\", \"\", false);\n          this.changeErrorState(\"addTelephone\", \"isAddTelephoneError\", \"\", false);\n          this.props.changeAddName(\"\");\n          this.props.changeAddAddress(\"\");\n          this.props.changeAddTelephone(\"\");\n        }\n\n        this.props.changeAddWindow(!value);\n      } else {\n        alert(\"You have opened edit window\");\n      }\n    };\n\n    this.onEditClick = async event => {\n      event.preventDefault();\n\n      if (!this.props.isAddWindow) {\n        if (this.props.selectedItem != null) {\n          const value = this.props.isEditWindow;\n          this.props.changeEditWindow(!value);\n        } else {\n          alert(\"You did not choose library!\");\n        }\n      } else {\n        alert(\"You have opened add window\");\n      }\n    };\n\n    this.onDeleteClick = async event => {\n      event.preventDefault();\n\n      if (this.props.selectedItem != null) {\n        await this.props.libraryService.deleteLibrary(this.props.selectedItem);\n        this.props.onRequest();\n        this.getAllLibraries();\n      } else {\n        alert(\"You did not choose library!\");\n      }\n    };\n\n    this.addLibrary = async event => {\n      event.preventDefault();\n      const {\n        addName,\n        addAddress,\n        addTelephone\n      } = this.props.addLibrary;\n      await this.validateWord(addName, \"addName\", \"isAddNameError\", this.errorNameMessage);\n      await this.validateWord(addAddress, \"addAddress\", \"isAddAddressError\", this.errorAddressMessage);\n      await this.validateTelephone(addTelephone, \"addTelephone\", \"isAddTelephoneError\");\n      const isError = this.state.isAddNameError || this.state.isAddAddressError || this.state.isAddTelephoneError;\n\n      if (!isError) {\n        const library = {\n          name: addName,\n          address: addAddress,\n          telephone: addTelephone\n        };\n        await this.props.libraryService.addLibrary(library);\n        this.props.onRequest();\n        this.getAllLibraries();\n      }\n    };\n\n    this.editLibrary = async event => {\n      event.preventDefault();\n      const isError = this.state.isEditNameError || this.state.isEditAddressError || this.state.isEditTelephoneError;\n\n      if (!isError) {\n        const library = {\n          id: this.props.selectedItem,\n          name: this.props.editLibrary.editName,\n          address: this.props.editLibrary.editAddress,\n          telephone: this.props.editLibrary.editTelephone\n        };\n        await this.props.libraryService.editLibrary(library);\n        this.props.onRequest();\n        this.getAllLibraries();\n      }\n    };\n\n    this.selectedRow = (id, name, address, telephone) => {\n      const library = {\n        editName: name,\n        editAddress: address,\n        editTelephone: telephone\n      };\n      this.props.changeItem({\n        id,\n        library\n      });\n      this.changeErrorState(\"editName\", \"isEditNameError\", \"\", false);\n      this.changeErrorState(\"editAddress\", \"isEditAddressError\", \"\", false);\n      this.changeErrorState(\"editTelephone\", \"isEditTelephoneError\", \"\", false);\n    };\n  }\n\n  componentDidMount() {\n    this.props.onRequest();\n    this.getAllLibraries();\n  }\n\n  render() {\n    if (!this.props.isLoggedIn) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/authorization\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 20\n        }\n      });\n    }\n\n    if (this.props.loading) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const rows = this.props.libraries.map(({\n      id,\n      name,\n      address,\n      telephone\n    }) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"object_id\",\n        value: id,\n        onClick: () => {\n          this.selectedRow(id, name, address, telephone);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }\n      }, name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }\n      }, address), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }\n      }, telephone));\n    });\n    const {\n      addName,\n      addAddress,\n      addTelephone\n    } = this.props.addLibrary;\n    const {\n      editName,\n      editAddress,\n      editTelephone\n    } = this.props.editLibrary;\n    const styleAddName = this.state.isAddNameError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\n    const styleAddAddress = this.state.isAddAddressError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\n    const styleAddTelephone = this.state.isAddTelephoneError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\n    const addWindow = !this.props.isAddWindow ? null : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"add-library-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.addLibrary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"libraries-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write name of new library here...\",\n      className: styleAddName,\n      onChange: this.changeAddName,\n      value: addName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 29\n      }\n    }), this.state.isAddNameError ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"red-text mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 58\n      }\n    }, this.state.formError.addName) : null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write address of new library here...\",\n      className: styleAddAddress,\n      onChange: this.changeAddAddress,\n      value: addAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 29\n      }\n    }), this.state.isAddAddressError ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"red-text mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 61\n      }\n    }, this.state.formError.addAddress) : null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write telephone of new library here...\",\n      className: styleAddTelephone,\n      onChange: this.changeAddTelephone,\n      value: addTelephone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 29\n      }\n    }), this.state.isAddTelephoneError ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"red-text mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 63\n      }\n    }, this.state.formError.addTelephone) : null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info form-button mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 29\n      }\n    }, \"Add\")))));\n    const styleEditName = this.state.isEditNameError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\n    const styleEditAddress = this.state.isEditAddressError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\n    const styleEditTelephone = this.state.isEditTelephoneError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\n    const editWindow = !this.props.isEditWindow ? null : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"edit-library-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.editLibrary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"libraries-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write new name of library here...\",\n      className: styleEditName,\n      onChange: this.changeEditName,\n      value: editName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 29\n      }\n    }), this.state.isEditNameError ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"red-text mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 59\n      }\n    }, this.state.formError.editName) : null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write new address of library here...\",\n      className: styleEditAddress,\n      onChange: this.changeEditAddress,\n      value: editAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 29\n      }\n    }), this.state.isEditAddressError ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"red-text mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 62\n      }\n    }, this.state.formError.editAddress) : null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write new telephone of library here...\",\n      className: styleEditTelephone,\n      onChange: this.changeEditTelephone,\n      value: editTelephone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 29\n      }\n    }), this.state.isEditTelephoneError ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"red-text mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 64\n      }\n    }, this.state.formError.editTelephone) : null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info form-button mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 29\n      }\n    }, \"Update\")))));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container libraries-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 25\n      }\n    }, \"Libraries\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"libraries-tools\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-danger float-right my-1 item-control\",\n      onClick: this.onDeleteClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-warning float-right my-1 item-control\",\n      onClick: this.onEditClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-success float-right my-1 item-control\",\n      onClick: this.onAddClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 25\n      }\n    }), addWindow, editWindow, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 33\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 33\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 33\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 33\n      }\n    }, \"Telephone\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 29\n      }\n    }, rows)))));\n  }\n\n}\n\nconst mapStateToProps = ({\n  librariesList,\n  authorizationBlock\n}) => {\n  return {\n    isLoggedIn: authorizationBlock.isLoggedIn,\n    libraries: librariesList.libraries,\n    loading: librariesList.loading,\n    isAddWindow: librariesList.isAddWindow,\n    isEditWindow: librariesList.isEditWindow,\n    addLibrary: librariesList.addLibrary,\n    editLibrary: librariesList.editLibrary,\n    selectedItem: librariesList.selectedItem\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onRequest: () => {\n      dispatch(librariesRequested());\n    },\n    onLoaded: newLibraries => {\n      dispatch(librariesLoaded(newLibraries));\n    },\n    changeAddWindow: value => {\n      dispatch(librariesShowAddWindow(value));\n    },\n    changeEditWindow: value => {\n      dispatch(librariesShowEditWindow(value));\n    },\n    changeAddSurname: value => {\n      dispatch(librariesUpdateAddSurnameField(value));\n    },\n    changeAddName: value => {\n      dispatch(librariesUpdateAddNameField(value));\n    },\n    changeAddAddress: value => {\n      dispatch(librariesUpdateAddAddressField(value));\n    },\n    changeAddTelephone: value => {\n      dispatch(librariesUpdateAddTelephoneField(value));\n    },\n    changeEditName: value => {\n      dispatch(librariesUpdateEditNameField(value));\n    },\n    changeEditAddress: value => {\n      dispatch(librariesUpdateEditAddressField(value));\n    },\n    changeEditTelephone: value => {\n      dispatch(librariesUpdateEditTelephoneField(value));\n    },\n    changeItem: item => {\n      dispatch(librariesUpdateSelectedItem(item));\n    }\n  };\n};\n\nexport default compose(withLibraryService(), connect(mapStateToProps, mapDispatchToProps))(LibrariesPage);","map":{"version":3,"sources":["D:/libraryservice/frontpages/src/components/libraries-page/libraries-page.js"],"names":["React","Component","Header","Spinner","compose","connect","Redirect","withLibraryService","librariesRequested","librariesLoaded","librariesShowAddWindow","librariesShowEditWindow","librariesUpdateAddSurnameField","librariesUpdateAddNameField","librariesUpdateAddAddressField","librariesUpdateAddTelephoneField","librariesUpdateEditNameField","librariesUpdateEditAddressField","librariesUpdateEditTelephoneField","librariesUpdateSelectedItem","LibrariesPage","state","formError","addName","addAddress","addTelephone","editName","editAddress","editTelephone","isAddNameError","isAddAddressError","isAddTelephoneError","isEditNameError","isEditAddressError","isEditTelephoneError","regExpTAddress","regExpTelephone","regExpTelephone2","errorNameMessage","errorAddressMessage","errorTelephoneMessage","getAllLibraries","libraries","props","libraryService","onLoaded","validateTelephone","telephone","messageField","isErrorField","isError","test","message","changeErrorState","validateWord","word","errorMess","length","value","setState","changeAddName","event","preventDefault","target","changeAddAddress","changeAddTelephone","changeEditName","changeEditAddress","changeEditTelephone","onAddClick","isEditWindow","isAddWindow","changeAddWindow","alert","onEditClick","selectedItem","changeEditWindow","onDeleteClick","deleteLibrary","onRequest","addLibrary","library","name","address","editLibrary","id","selectedRow","changeItem","componentDidMount","render","isLoggedIn","loading","rows","map","styleAddName","styleAddAddress","styleAddTelephone","addWindow","styleEditName","styleEditAddress","styleEditTelephone","editWindow","mapStateToProps","librariesList","authorizationBlock","mapDispatchToProps","dispatch","newLibraries","changeAddSurname","item"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport \"./libraries-page.css\";\r\nimport Header from \"../header\";\r\nimport Spinner from \"../spinner\";\r\nimport {compose} from \"../../utils\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport withLibraryService from \"../../hoc\";\r\nimport {\r\n    librariesRequested,\r\n    librariesLoaded,\r\n    librariesShowAddWindow,\r\n    librariesShowEditWindow,\r\n    librariesUpdateAddSurnameField,\r\n    librariesUpdateAddNameField,\r\n    librariesUpdateAddAddressField,\r\n    librariesUpdateAddTelephoneField,\r\n    librariesUpdateEditNameField,\r\n    librariesUpdateEditAddressField,\r\n    librariesUpdateEditTelephoneField,\r\n    librariesUpdateSelectedItem\r\n} from \"../../actions/libraries-actions\";\r\n\r\nclass LibrariesPage extends Component {\r\n\r\n    // necessary for error handling and pointless, in my opinion, for rendering to the global state\r\n    state = {\r\n        formError : {\r\n            addName : \"\",\r\n            addAddress : \"\",\r\n            addTelephone : \"\",\r\n            editName : \"\",\r\n            editAddress : \"\",\r\n            editTelephone : \"\",\r\n        },\r\n        isAddNameError : false,\r\n        isAddAddressError : false,\r\n        isAddTelephoneError : false,\r\n        isEditNameError : false,\r\n        isEditAddressError : false,\r\n        isEditTelephoneError : false,\r\n    };\r\n\r\n    //regular expressions for checking entered data\r\n    regExpTAddress = \"\\d+$\";\r\n    regExpTelephone = \"^\\d{2}\\-\\d{2}\\-\\d{2}$\";\r\n    regExpTelephone2 = \"^[0-9]{2}-[0-9]{2}-[0-9]{2}$\";\r\n\r\n    //error messages\r\n    errorNameMessage = \"The length of the library name must be at least 3\";\r\n    errorAddressMessage = \"The address length must be at least 3\";\r\n    errorTelephoneMessage = \"Phone format XX-XX-XX\";\r\n\r\n    componentDidMount() {\r\n        this.props.onRequest();\r\n        this.getAllLibraries();\r\n    }\r\n\r\n    getAllLibraries = async () => {\r\n        const libraries = await this.props.libraryService.getAllLibraries();\r\n        this.props.onLoaded(libraries);\r\n    };\r\n\r\n    validateTelephone = (telephone, messageField, isErrorField) => {\r\n        const isError = !this.regExpTelephone.test(telephone);\r\n        const message = isError ? this.errorTelephoneMessage : \"\";\r\n        this.changeErrorState(messageField, isErrorField, message, isError);\r\n    };\r\n\r\n    validateWord = (word, messageField, isErrorField, errorMess) => {\r\n        const isError = word.length < 3;\r\n        const message = isError ? errorMess : \"\";\r\n        this.changeErrorState(messageField, isErrorField, message, isError);\r\n    };\r\n\r\n    changeErrorState = (messageField, isErrorField, message, value) => {\r\n        this.setState({\r\n            formError : {\r\n                [messageField] : message\r\n            },\r\n            [isErrorField] : value\r\n        })\r\n    };\r\n\r\n    changeAddName = event => {\r\n        event.preventDefault();\r\n        this.validateWord(event.target.value, \"addName\", \"isAddNameError\", this.errorNameMessage);\r\n        this.props.changeAddName(event.target.value)\r\n    };\r\n\r\n    changeAddAddress = event => {\r\n        event.preventDefault();\r\n        this.validateWord(event.target.value, \"addAddress\", \"isAddAddressError\", this.errorAddressMessage);\r\n        this.props.changeAddAddress(event.target.value)\r\n    };\r\n\r\n    changeAddTelephone = event => {\r\n        event.preventDefault();\r\n        this.validateTelephone(event.target.value, \"addTelephone\", \"isAddTelephoneError\");\r\n        this.props.changeAddTelephone(event.target.value)\r\n    };\r\n\r\n    changeEditName = event => {\r\n        event.preventDefault();\r\n        this.validateWord(event.target.value, \"editName\", \"isEditNameError\", this.errorNameMessage);\r\n        this.props.changeEditName(event.target.value)\r\n    };\r\n\r\n    changeEditAddress = event => {\r\n        event.preventDefault();\r\n        this.validateWord(event.target.value, \"editAddress\", \"isEditAddressError\", this.errorAddressMessage);\r\n        this.props.changeEditAddress(event.target.value)\r\n    };\r\n\r\n    changeEditTelephone = event => {\r\n        event.preventDefault();\r\n        this.validateTelephone(event.target.value, \"editTelephone\", \"isEditTelephoneError\");\r\n        this.props.changeEditTelephone(event.target.value)\r\n    };\r\n\r\n    onAddClick = async event => {\r\n        event.preventDefault();\r\n        if(!this.props.isEditWindow) {\r\n            const value = this.props.isAddWindow;\r\n            if(value) {\r\n                this.changeErrorState(\"addName\", \"isAddNameError\", \"\", false);\r\n                this.changeErrorState(\"addAddress\", \"isAddAddressError\", \"\", false);\r\n                this.changeErrorState(\"addTelephone\", \"isAddTelephoneError\", \"\", false);\r\n                this.props.changeAddName(\"\");\r\n                this.props.changeAddAddress(\"\");\r\n                this.props.changeAddTelephone(\"\");\r\n            }\r\n            this.props.changeAddWindow(!value);\r\n        } else {\r\n            alert(\"You have opened edit window\");\r\n        }\r\n    };\r\n\r\n    onEditClick = async event => {\r\n        event.preventDefault();\r\n        if(!this.props.isAddWindow) {\r\n            if (this.props.selectedItem != null) {\r\n                const value = this.props.isEditWindow;\r\n                this.props.changeEditWindow(!value);\r\n            } else {\r\n                alert(\"You did not choose library!\");\r\n            }\r\n        } else {\r\n            alert(\"You have opened add window\");\r\n        }\r\n    };\r\n\r\n    onDeleteClick = async event => {\r\n        event.preventDefault();\r\n\r\n        if(this.props.selectedItem != null) {\r\n            await this.props.libraryService.deleteLibrary(this.props.selectedItem);\r\n            this.props.onRequest();\r\n            this.getAllLibraries();\r\n        } else {\r\n            alert(\"You did not choose library!\");\r\n        }\r\n    };\r\n\r\n    addLibrary = async event => {\r\n        event.preventDefault();\r\n\r\n        const {addName, addAddress, addTelephone} = this.props.addLibrary;\r\n        await this.validateWord(addName, \"addName\", \"isAddNameError\", this.errorNameMessage);\r\n        await this.validateWord(addAddress, \"addAddress\", \"isAddAddressError\", this.errorAddressMessage);\r\n        await this.validateTelephone(addTelephone, \"addTelephone\", \"isAddTelephoneError\");\r\n        const isError = this.state.isAddNameError || this.state.isAddAddressError || this.state.isAddTelephoneError;\r\n\r\n        if(!isError) {\r\n            const library = {\r\n                name : addName,\r\n                address : addAddress,\r\n                telephone : addTelephone\r\n            };\r\n\r\n            await this.props.libraryService.addLibrary(library);\r\n            this.props.onRequest();\r\n            this.getAllLibraries();\r\n        }\r\n    };\r\n\r\n\r\n    editLibrary = async event => {\r\n        event.preventDefault();\r\n\r\n        const isError = this.state.isEditNameError || this.state.isEditAddressError || this.state.isEditTelephoneError;\r\n\r\n        if(!isError) {\r\n            const library = {\r\n                id : this.props.selectedItem,\r\n                name : this.props.editLibrary.editName,\r\n                address : this.props.editLibrary.editAddress,\r\n                telephone : this.props.editLibrary.editTelephone\r\n            };\r\n\r\n            await this.props.libraryService.editLibrary(library);\r\n            this.props.onRequest();\r\n            this.getAllLibraries();\r\n        }\r\n    };\r\n\r\n    selectedRow = (id, name, address, telephone) => {\r\n        const library = {\r\n            editName : name,\r\n            editAddress : address,\r\n            editTelephone : telephone\r\n        };\r\n        this.props.changeItem({id, library});\r\n        this.changeErrorState(\"editName\", \"isEditNameError\", \"\", false);\r\n        this.changeErrorState(\"editAddress\", \"isEditAddressError\", \"\", false);\r\n        this.changeErrorState(\"editTelephone\", \"isEditTelephoneError\", \"\", false);\r\n    };\r\n\r\n    render () {\r\n\r\n        if(!this.props.isLoggedIn) {\r\n            return <Redirect to='/authorization'/>\r\n        }\r\n\r\n        if(this.props.loading) {\r\n            return <Spinner/>\r\n        }\r\n\r\n        const rows = this.props.libraries.map(({id, name, address, telephone})=>{\r\n            return(\r\n                <tr key={id}>\r\n                    <td><input type=\"radio\" name=\"object_id\" value={id} onClick={() => {this.selectedRow(id, name, address, telephone)}}/></td>\r\n                    <td>{name}</td>\r\n                    <td>{address}</td>\r\n                    <td>{telephone}</td>\r\n                </tr>\r\n            )\r\n        });\r\n\r\n        const {addName, addAddress, addTelephone} = this.props.addLibrary;\r\n        const {editName, editAddress, editTelephone} = this.props.editLibrary;\r\n\r\n        const styleAddName = this.state.isAddNameError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\r\n        const styleAddAddress = this.state.isAddAddressError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\r\n        const styleAddTelephone = this.state.isAddTelephoneError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\r\n\r\n        const addWindow = !this.props.isAddWindow ? null :\r\n            <div id=\"add-library-block\">\r\n                <div className=\"card card-body mb-2\">\r\n                    <form onSubmit={this.addLibrary}>\r\n                        <div className=\"libraries-form\">\r\n                            <input type=\"text\" placeholder=\"Write name of new library here...\" className={styleAddName} onChange={this.changeAddName} value={addName}/>\r\n                            {this.state.isAddNameError ? <div className=\"red-text mb-2\">{this.state.formError.addName}</div> : null}\r\n                            <input type=\"text\" placeholder=\"Write address of new library here...\" className={styleAddAddress} onChange={this.changeAddAddress} value={addAddress}/>\r\n                            {this.state.isAddAddressError ? <div className=\"red-text mb-2\">{this.state.formError.addAddress}</div> : null}\r\n                            <input type=\"text\" placeholder=\"Write telephone of new library here...\" className={styleAddTelephone} onChange={this.changeAddTelephone} value={addTelephone}/>\r\n                            {this.state.isAddTelephoneError ? <div className=\"red-text mb-2\">{this.state.formError.addTelephone}</div> : null}\r\n                            <button type=\"submit\" className=\"btn btn-info form-button mt-2\">Add</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>;\r\n\r\n        const styleEditName = this.state.isEditNameError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\r\n        const styleEditAddress = this.state.isEditAddressError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\r\n        const styleEditTelephone = this.state.isEditTelephoneError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\r\n\r\n        const editWindow = !this.props.isEditWindow ? null :\r\n            <div id=\"edit-library-block\">\r\n                <div className=\"card card-body mb-2\">\r\n                    <form onSubmit={this.editLibrary}>\r\n                        <div className=\"libraries-form\">\r\n                            <input type=\"text\" placeholder=\"Write new name of library here...\" className={styleEditName} onChange={this.changeEditName} value={editName}/>\r\n                            {this.state.isEditNameError ? <div className=\"red-text mb-2\">{this.state.formError.editName}</div> : null}\r\n                            <input type=\"text\" placeholder=\"Write new address of library here...\" className={styleEditAddress} onChange={this.changeEditAddress} value={editAddress}/>\r\n                            {this.state.isEditAddressError ? <div className=\"red-text mb-2\">{this.state.formError.editAddress}</div> : null}\r\n                            <input type=\"text\" placeholder=\"Write new telephone of library here...\" className={styleEditTelephone} onChange={this.changeEditTelephone} value={editTelephone}/>\r\n                            {this.state.isEditTelephoneError ? <div className=\"red-text mb-2\">{this.state.formError.editTelephone}</div> : null}\r\n                            <button type=\"submit\" className=\"btn btn-info form-button mt-2\">Update</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>;\r\n\r\n        return (\r\n            <div>\r\n                <Header/>\r\n\r\n                <main role=\"main\">\r\n\r\n                    <div className=\"container libraries-page\">\r\n                        <h1>Libraries</h1>\r\n\r\n                        <div className=\"libraries-tools\">\r\n                            <button className=\"btn btn-outline-danger float-right my-1 item-control\" onClick={this.onDeleteClick}>\r\n                                <i className=\"fa fa-trash-o\"/>\r\n                            </button>\r\n\r\n                            <button className=\"btn btn-outline-warning float-right my-1 item-control\" onClick={this.onEditClick}>\r\n                                <i className=\"fa fa-pencil\"/>\r\n                            </button>\r\n\r\n                            <button className=\"btn btn-outline-success float-right my-1 item-control\" onClick={this.onAddClick}>\r\n                                <i className=\"fa fa-plus\"/>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <br/>\r\n                        <br/>\r\n\r\n                        {addWindow}\r\n\r\n                        {editWindow}\r\n\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Name</th>\r\n                                <th>Address</th>\r\n                                <th>Telephone</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {rows}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nconst mapStateToProps = ({librariesList, authorizationBlock}) => {\r\n    return {\r\n        isLoggedIn : authorizationBlock.isLoggedIn,\r\n        libraries : librariesList.libraries,\r\n        loading : librariesList.loading,\r\n        isAddWindow : librariesList.isAddWindow,\r\n        isEditWindow : librariesList.isEditWindow,\r\n        addLibrary : librariesList.addLibrary,\r\n        editLibrary : librariesList.editLibrary,\r\n        selectedItem : librariesList.selectedItem\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onRequest : () => {dispatch(librariesRequested())},\r\n        onLoaded : (newLibraries) => {dispatch(librariesLoaded(newLibraries))},\r\n        changeAddWindow : (value) => {dispatch(librariesShowAddWindow(value))},\r\n        changeEditWindow : (value) => {dispatch(librariesShowEditWindow(value))},\r\n        changeAddSurname : (value) => {dispatch(librariesUpdateAddSurnameField(value))},\r\n        changeAddName : (value) => {dispatch(librariesUpdateAddNameField(value))},\r\n        changeAddAddress : (value) => {dispatch(librariesUpdateAddAddressField(value))},\r\n        changeAddTelephone : (value) => {dispatch(librariesUpdateAddTelephoneField(value))},\r\n        changeEditName : (value) => {dispatch(librariesUpdateEditNameField(value))},\r\n        changeEditAddress : (value) => {dispatch(librariesUpdateEditAddressField(value))},\r\n        changeEditTelephone : (value) => {dispatch(librariesUpdateEditTelephoneField(value))},\r\n        changeItem : (item) => {dispatch(librariesUpdateSelectedItem(item))}\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    withLibraryService(),\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n    )(LibrariesPage);"]},"metadata":{},"sourceType":"module"}