{"ast":null,"code":"var _jsxFileName = \"D:\\\\libraryservice\\\\frontpages\\\\src\\\\components\\\\homepage\\\\homepage.js\";\nimport React, { Component } from 'react';\nimport './homepage.css';\nimport { Link } from 'react-router-dom';\nimport Spinner from \"../spinner\";\nimport { compose } from \"../../utils\";\nimport { connect } from \"react-redux\";\nimport withLibraryService from \"../../hoc\";\nimport { bookFundRequested, bookFundLoaded } from \"../../actions/book-fund-actions\";\nimport { element } from \"prop-types\";\n\nclass HomePage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.fieldsNames = [{\n      key: 'title',\n      value: 'Title'\n    }, {\n      key: 'author',\n      value: 'Author'\n    }, {\n      key: 'genre',\n      value: 'Genre'\n    }, {\n      key: 'year',\n      value: 'Year'\n    }, {\n      key: 'publisher',\n      value: 'Publisher'\n    }, {\n      key: 'amount_pages',\n      value: 'Pages'\n    }, {\n      key: 'name',\n      value: 'Library'\n    }, {\n      key: 'address',\n      value: 'Telephone'\n    }];\n\n    this.getBookFund = async () => {\n      const bookFund = await this.props.libraryService.getBookFund();\n      this.props.onLoaded(bookFund);\n    };\n  }\n\n  componentDidMount() {\n    this.props.onRequest();\n    this.getBookFund();\n  }\n\n  render() {\n    if (this.props.loading) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const rows = this.props.book_fund.map(el => {\n      const {\n        id,\n        book,\n        library\n      } = el;\n      const {\n        title,\n        author,\n        genre,\n        year,\n        publisher,\n        amount_pages\n      } = book;\n      const {\n        name,\n        address,\n        telephone\n      } = library;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }\n      }, title), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }\n      }, author.surname, \" \", author.name, \" \", author.patronymic), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, genre.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }, year), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }\n      }, publisher.publisher), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, amount_pages), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, address), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, telephone));\n    });\n    const sortItems = this.fieldsNames.map(element => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 20\n        }\n      }, element.value);\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"home-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"blog-header py-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-book home-logo large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"my-0 mr-md-auto font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 29\n      }\n    }, \"LibraryService\"), /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"my-2 my-md-0 mr-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/authorization\",\n      className: \"p-2 text-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }, \"Log in\"))))), /*#__PURE__*/React.createElement(\"main\", {\n      className: \"container home-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"home-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, \"BookFund\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"home-tools d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"d-inline-block home-library align-baseline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, \"Library\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown home-dropdown d-inline-block home-ldropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }, \"10\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 33\n      }\n    }, \"15\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }\n    }, \"20\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, \"25\"))), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"d-inline-block home-sort\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, \"Sort by\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown home-dropdown d-inline-block home-sdropdown mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 29\n      }\n    }, sortItems)), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-info search-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, \"Search options\")), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 29\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 29\n      }\n    }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }, \"Genre\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, \"Publisher\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, \"Pages\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    }, \"Library\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 29\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 29\n      }\n    }, \"Telephone\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, rows))));\n  }\n\n}\n\nconst mapStateToProps = ({\n  bookFundList\n}) => {\n  return {\n    book_fund: bookFundList.book_fund,\n    loading: bookFundList.loading,\n    error: bookFundList.error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onRequest: () => {\n      dispatch(bookFundRequested());\n    },\n    onLoaded: newBookFund => {\n      dispatch(bookFundLoaded(newBookFund));\n    }\n  };\n};\n\nexport default compose(withLibraryService(), connect(mapStateToProps, mapDispatchToProps))(HomePage);","map":{"version":3,"sources":["D:/libraryservice/frontpages/src/components/homepage/homepage.js"],"names":["React","Component","Link","Spinner","compose","connect","withLibraryService","bookFundRequested","bookFundLoaded","element","HomePage","fieldsNames","key","value","getBookFund","bookFund","props","libraryService","onLoaded","componentDidMount","onRequest","render","loading","rows","book_fund","map","el","id","book","library","title","author","genre","year","publisher","amount_pages","name","address","telephone","surname","patronymic","sortItems","mapStateToProps","bookFundList","error","mapDispatchToProps","dispatch","newBookFund"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './homepage.css';\r\nimport {Link} from 'react-router-dom';\r\nimport Spinner from \"../spinner\";\r\nimport {compose} from \"../../utils\";\r\nimport {connect} from \"react-redux\";\r\nimport withLibraryService from \"../../hoc\";\r\nimport {\r\n    bookFundRequested,\r\n    bookFundLoaded\r\n} from \"../../actions/book-fund-actions\";\r\nimport {element} from \"prop-types\";\r\n\r\nclass HomePage extends Component{\r\n\r\n    fieldsNames = [\r\n        {key : 'title', value : 'Title'},\r\n        {key : 'author', value : 'Author'},\r\n        {key : 'genre', value : 'Genre'},\r\n        {key : 'year', value : 'Year'},\r\n        {key : 'publisher', value : 'Publisher'},\r\n        {key : 'amount_pages', value : 'Pages'},\r\n        {key : 'name', value : 'Library'},\r\n        {key : 'address', value : 'Telephone'},\r\n    ];\r\n\r\n    componentDidMount() {\r\n        this.props.onRequest();\r\n        this.getBookFund();\r\n    }\r\n\r\n    getBookFund = async () => {\r\n        const bookFund = await this.props.libraryService.getBookFund();\r\n        this.props.onLoaded(bookFund);\r\n    };\r\n\r\n    render () {\r\n\r\n        if(this.props.loading){\r\n            return <Spinner/>\r\n        }\r\n\r\n        const rows = this.props.book_fund.map((el) => {\r\n\r\n            const {id, book, library} = el;\r\n            const {title, author, genre, year, publisher, amount_pages } = book;\r\n            const {name, address, telephone} = library;\r\n\r\n            return (\r\n                <tr key={id}>\r\n                    <td>{title}</td>\r\n                    <td>{author.surname} {author.name} {author.patronymic}</td>\r\n                    <td>{genre.name}</td>\r\n                    <td>{year}</td>\r\n                    <td>{publisher.publisher}</td>\r\n                    <td>{amount_pages}</td>\r\n                    <td>{name}</td>\r\n                    <td>{address}</td>\r\n                    <td>{telephone}</td>\r\n                </tr>\r\n            )\r\n        });\r\n\r\n        const sortItems = this.fieldsNames.map((element) => {\r\n            return <option>{element.value}</option>\r\n        })\r\n\r\n        return (\r\n            <div>\r\n\r\n                <div className=\"home-header\">\r\n                    <header className=\"blog-header py-3\">\r\n                        <div\r\n                            className=\"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm\">\r\n                            <i className=\"fa fa-book home-logo large\"/>\r\n                            <h5 className=\"my-0 mr-md-auto font-weight-normal\">LibraryService</h5>\r\n                            <nav className=\"my-2 my-md-0 mr-md-3\">\r\n                                <Link to=\"/authorization\" className=\"p-2 text-dark\">Log in</Link>\r\n                            </nav>\r\n                        </div>\r\n                    </header>\r\n                </div>\r\n\r\n\r\n                <main className=\"container home-content\">\r\n\r\n                    <h1 className=\"home-title\">BookFund</h1>\r\n\r\n                    <div className=\"home-tools d-flex\">\r\n\r\n                        <h5 className=\"d-inline-block home-library align-baseline\">Library</h5>\r\n\r\n                        <div className=\"dropdown home-dropdown d-inline-block home-ldropdown\">\r\n                            <select className=\"form-control\">\r\n                                <option>5</option>\r\n                                <option>10</option>\r\n                                <option>15</option>\r\n                                <option>20</option>\r\n                                <option>25</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <h5 className=\"d-inline-block home-sort\">Sort by</h5>\r\n\r\n                        <div className=\"dropdown home-dropdown d-inline-block home-sdropdown mr-auto\">\r\n                            <select className=\"form-control\">\r\n                                {sortItems}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <button type=\"button\" className=\"btn btn-info search-button\">Search options</button>\r\n\r\n                    </div>\r\n\r\n                    <table className=\"table mt-2\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th>Author</th>\r\n                            <th>Genre</th>\r\n                            <th>Year</th>\r\n                            <th>Publisher</th>\r\n                            <th>Pages</th>\r\n                            <th>Library</th>\r\n                            <th>Address</th>\r\n                            <th>Telephone</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {rows}\r\n                        </tbody>\r\n                    </table>\r\n\r\n                </main>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps =({bookFundList}) => {\r\n    return {\r\n        book_fund : bookFundList.book_fund,\r\n        loading : bookFundList.loading,\r\n        error : bookFundList.error\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onRequest : () => {dispatch(bookFundRequested())},\r\n        onLoaded : (newBookFund) => {dispatch(bookFundLoaded(newBookFund))}\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    withLibraryService(),\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(HomePage);"]},"metadata":{},"sourceType":"module"}