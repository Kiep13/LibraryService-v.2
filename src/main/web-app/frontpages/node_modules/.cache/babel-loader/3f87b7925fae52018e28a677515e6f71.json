{"ast":null,"code":"var _jsxFileName = \"D:\\\\libraryservice\\\\frontpages\\\\src\\\\components\\\\books-page\\\\books-page.js\";\nimport React, { Component } from \"react\";\nimport Header from \"../header\";\nimport Spinner from \"../spinner\";\nimport axios from \"axios\";\n\nclass BooksPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      books: [],\n      loading: true,\n      error: false,\n      authors: [],\n      genres: [],\n      publishers: [],\n      addBook: {\n        addTitle: \"\",\n        addAuthor: null,\n        addGenre: null,\n        addYear: \"\",\n        addPublisher: null,\n        addAmountOfPages: \"\"\n      },\n      editBook: {\n        editTitle: \"\",\n        editAuthor: null,\n        editGenre: null,\n        editYear: \"\",\n        editPublisher: null,\n        editAmountOfPages: \"\"\n      },\n      selectedItem: null\n    };\n\n    this.getAllAuthors = async () => {\n      await axios.get(\"http://localhost:8080/authors\").then(response => {\n        if (response.data != null) {\n          this.setState({ ...this.state,\n            authors: response.data,\n            addBook: { ...this.state.addBook,\n              addAuthor: response.data[0]\n            }\n          });\n        }\n      });\n    };\n\n    this.getAllGenres = async () => {\n      await axios.get(\"http://localhost:8080/genres\").then(response => {\n        if (response.data != null) {\n          this.setState({ ...this.state,\n            genres: response.data,\n            addBook: { ...this.state.addBook,\n              addGenre: response.data[0]\n            }\n          });\n        }\n      });\n    };\n\n    this.getAllPublishers = async () => {\n      await axios.get(\"http://localhost:8080/publishers\").then(response => {\n        if (response.data != null) {\n          this.setState({ ...this.state,\n            publishers: response.data,\n            addBook: { ...this.state.addBook,\n              addPublisher: response.data[0]\n            }\n          });\n        }\n      });\n    };\n\n    this.getAllBooks = async () => {\n      await axios.get(\"http://localhost:8080/books\").then(response => {\n        if (response.data != null) {\n          this.setState({ ...this.state,\n            books: response.data,\n            loading: false\n          });\n        }\n      });\n    };\n\n    this.onAddTitle = event => {\n      this.setState({ ...this.state,\n        addBook: { ...this.state.addBook,\n          addTitle: event.target.value\n        }\n      });\n    };\n\n    this.onAddAuthor = event => {\n      this.setState({ ...this.state,\n        addBook: { ...this.state.addBook,\n          addAuthor: event.target.value\n        }\n      });\n    };\n\n    this.onAddGenre = event => {\n      this.setState({ ...this.state,\n        addBook: { ...this.state.addBook,\n          addGenre: event.target.value\n        }\n      });\n    };\n\n    this.onAddPublisher = event => {\n      this.setState({ ...this.state,\n        addBook: { ...this.state.addBook,\n          addPublisher: event.target.value\n        }\n      });\n    };\n\n    this.onAddYear = event => {\n      this.setState({ ...this.state,\n        addBook: { ...this.state.addBook,\n          addYear: event.target.value\n        }\n      });\n    };\n\n    this.onAddAmountOfPages = event => {\n      this.setState({ ...this.state,\n        addBook: { ...this.state.addBook,\n          addAmountOfPages: event.target.value\n        }\n      });\n    };\n\n    this.onAddBook = async () => {\n      const book = {\n        title: this.state.addBook.addTitle,\n        author: this.state.addBook.addAuthor,\n        genre: this.state.addBook.addGenre,\n        year: +this.state.addBook.addYear,\n        publisher: this.state.addBook.addPublisher,\n        amount_pages: +this.state.addBook.addAmountOfPages\n      };\n      console.log(book);\n      await axios.post(\"http://localhost:8080/book-add\", book).then(response => {\n        if (response.data != null) {\n          this.setState({ ...this.state,\n            addBook: {\n              addTitle: \"\",\n              addAuthor: null,\n              addGenre: null,\n              addYear: \"\",\n              addPublisher: null,\n              addAmountOfPages: \"\"\n            }\n          });\n        }\n      });\n      this.getAllBooks();\n    };\n\n    this.selectedRow = book => {\n      const {\n        id,\n        title,\n        author,\n        genre,\n        year,\n        publisher,\n        amount_pages\n      } = book;\n      this.setState({ ...this.state,\n        editBook: {\n          editTitle: title,\n          editAuthor: author,\n          editGenre: genre,\n          editYear: year,\n          editPublisher: publisher,\n          editAmountOfPages: amount_pages\n        },\n        selectedItem: id\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getAllAuthors();\n    this.getAllGenres();\n    this.getAllPublishers();\n    this.getAllBooks();\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const authors = this.state.authors.map(el => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: el.id,\n        value: el,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }\n      }, el.surname, \" \", el.name, \" \", el.patronymic);\n    });\n    const genres = this.state.genres.map(el => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: el.id,\n        value: el,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 17\n        }\n      }, el.name);\n    });\n    const publishers = this.state.publishers.map(el => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: el.id,\n        value: el,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 17\n        }\n      }, el.publisher);\n    });\n    const rows = this.state.books.map(el => {\n      const {\n        id,\n        title,\n        author,\n        genre,\n        year,\n        publisher,\n        amount_pages\n      } = el;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"object_id\",\n        value: id,\n        onClick: () => {\n          this.selectedRow(el);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }\n      }, title), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }\n      }, author.surname, \" \", author.name, \" \", author.patronymic), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }\n      }, genre.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }\n      }, year), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }\n      }, publisher.publisher), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }\n      }, amount_pages));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container genres-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 25\n      }\n    }, \"Books\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"genres-tools\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-danger float-right my-1 item-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-warning float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#edit-book-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-success float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#add-book-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse\",\n      id: \"add-book-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onAddBook,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"genre-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write title of new book here...\",\n      className: \"form-control mb-2\",\n      onChange: this.onAddTitle,\n      value: this.state.addBook.addTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown home-dropdown d-inline-block home-ldropdown mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"author-list\",\n      onChange: this.onAddAuthor,\n      value: this.state.addBook.addAuthor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 45\n      }\n    }, authors)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown home-dropdown d-inline-block home-ldropdown mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"genre-list\",\n      onChange: this.onAddGenre,\n      value: this.state.addBook.addGenre,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 45\n      }\n    }, genres)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown home-dropdown d-inline-block home-ldropdown mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"publisher-list\",\n      onChange: this.onAddPublisher,\n      value: this.state.addBook.addPublisher,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 45\n      }\n    }, publishers)), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write year of new book here...\",\n      className: \"form-control mb-2\",\n      onChange: this.onAddYear,\n      value: this.state.addBook.addYear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write amount of pages of new book here...\",\n      className: \"form-control mb-2\",\n      onChange: this.onAddAmountOfPages,\n      value: this.state.addBook.addAmountOfPages,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info auth-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 41\n      }\n    }, \"Add\"))))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 33\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 33\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 33\n      }\n    }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 33\n      }\n    }, \"Genre\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 33\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 33\n      }\n    }, \"Publisher\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 33\n      }\n    }, \"Amount of pages\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 29\n      }\n    }, rows)))));\n  }\n\n}\n\nexport default BooksPage;","map":{"version":3,"sources":["D:/libraryservice/frontpages/src/components/books-page/books-page.js"],"names":["React","Component","Header","Spinner","axios","BooksPage","state","books","loading","error","authors","genres","publishers","addBook","addTitle","addAuthor","addGenre","addYear","addPublisher","addAmountOfPages","editBook","editTitle","editAuthor","editGenre","editYear","editPublisher","editAmountOfPages","selectedItem","getAllAuthors","get","then","response","data","setState","getAllGenres","getAllPublishers","getAllBooks","onAddTitle","event","target","value","onAddAuthor","onAddGenre","onAddPublisher","onAddYear","onAddAmountOfPages","onAddBook","book","title","author","genre","year","publisher","amount_pages","console","log","post","selectedRow","id","componentDidMount","render","map","el","surname","name","patronymic","rows"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport Header from \"../header\";\r\nimport Spinner from \"../spinner\";\r\nimport axios from \"axios\";\r\n\r\nclass BooksPage extends Component {\r\n\r\n    state = {\r\n        books : [],\r\n        loading : true,\r\n        error : false,\r\n        authors : [],\r\n        genres : [],\r\n        publishers : [],\r\n        addBook : {\r\n            addTitle : \"\",\r\n            addAuthor : null,\r\n            addGenre : null,\r\n            addYear : \"\",\r\n            addPublisher : null,\r\n            addAmountOfPages : \"\"\r\n        },\r\n        editBook : {\r\n            editTitle : \"\",\r\n            editAuthor : null,\r\n            editGenre : null,\r\n            editYear : \"\",\r\n            editPublisher : null,\r\n            editAmountOfPages : \"\"\r\n        },\r\n        selectedItem : null\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getAllAuthors();\r\n        this.getAllGenres();\r\n        this.getAllPublishers();\r\n        this.getAllBooks();\r\n    }\r\n\r\n    getAllAuthors = async () => {\r\n        await axios.get(\"http://localhost:8080/authors\")\r\n            .then(response => {\r\n                if(response.data != null){\r\n                    this.setState({\r\n                        ...this.state,\r\n                        authors : response.data,\r\n                        addBook : {\r\n                            ...this.state.addBook,\r\n                            addAuthor : response.data[0]\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n    };\r\n\r\n    getAllGenres = async () => {\r\n        await axios.get(\"http://localhost:8080/genres\")\r\n            .then(response => {\r\n                if(response.data != null){\r\n                    this.setState({\r\n                        ...this.state,\r\n                        genres : response.data,\r\n                        addBook : {\r\n                            ...this.state.addBook,\r\n                            addGenre : response.data[0]\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n    };\r\n\r\n    getAllPublishers = async () => {\r\n        await axios.get(\"http://localhost:8080/publishers\")\r\n            .then(response => {\r\n                if(response.data != null) {\r\n                    this.setState({\r\n                        ...this.state,\r\n                        publishers : response.data,\r\n                        addBook : {\r\n                            ...this.state.addBook,\r\n                            addPublisher : response.data[0]\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n    };\r\n\r\n    getAllBooks = async () => {\r\n        await axios.get(\"http://localhost:8080/books\")\r\n            .then(response => {\r\n                if(response.data != null) {\r\n                    this.setState({\r\n                        ...this.state,\r\n                        books : response.data,\r\n                        loading : false\r\n                    });\r\n                }\r\n            })\r\n    };\r\n\r\n    onAddTitle = event => {\r\n        this.setState({\r\n            ...this.state,\r\n            addBook : {\r\n                ...this.state.addBook,\r\n                addTitle : event.target.value,\r\n            }\r\n        });\r\n    };\r\n\r\n    onAddAuthor = event => {\r\n        this.setState({\r\n            ...this.state,\r\n            addBook : {\r\n                ...this.state.addBook,\r\n                addAuthor : event.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    onAddGenre = event => {\r\n        this.setState({\r\n            ...this.state,\r\n            addBook : {\r\n                ...this.state.addBook,\r\n                addGenre : event.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    onAddPublisher= event => {\r\n        this.setState({\r\n            ...this.state,\r\n            addBook : {\r\n                ...this.state.addBook,\r\n                addPublisher : event.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    onAddYear= event => {\r\n        this.setState({\r\n            ...this.state,\r\n            addBook : {\r\n                ...this.state.addBook,\r\n                addYear : event.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    onAddAmountOfPages = event => {\r\n        this.setState({\r\n            ...this.state,\r\n            addBook : {\r\n                ...this.state.addBook,\r\n                addAmountOfPages : event.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    onAddBook = async () => {\r\n\r\n        const book = {\r\n            title : this.state.addBook.addTitle,\r\n            author : this.state.addBook.addAuthor,\r\n            genre : this.state.addBook.addGenre,\r\n            year : +this.state.addBook.addYear,\r\n            publisher : this.state.addBook.addPublisher,\r\n            amount_pages : +this.state.addBook.addAmountOfPages\r\n        };\r\n\r\n        console.log(book);\r\n\r\n        await axios.post(\"http://localhost:8080/book-add\", book)\r\n            .then(response => {\r\n                if(response.data != null){\r\n                    this.setState({\r\n                        ...this.state,\r\n                        addBook : {\r\n                            addTitle : \"\",\r\n                            addAuthor : null,\r\n                            addGenre : null,\r\n                            addYear : \"\",\r\n                            addPublisher : null,\r\n                            addAmountOfPages : \"\"\r\n                        }\r\n                    })\r\n                }\r\n            });\r\n\r\n        this.getAllBooks();\r\n    };\r\n\r\n    selectedRow = (book) => {\r\n\r\n        const {id, title, author, genre, year, publisher, amount_pages} = book;\r\n        this.setState({\r\n            ...this.state,\r\n            editBook : {\r\n                editTitle : title,\r\n                editAuthor : author,\r\n                editGenre : genre,\r\n                editYear : year,\r\n                editPublisher : publisher,\r\n                editAmountOfPages : amount_pages\r\n            },\r\n            selectedItem : id\r\n        })\r\n    };\r\n\r\n    render () {\r\n\r\n        if(this.state.loading){\r\n            return <Spinner/>\r\n        }\r\n\r\n        const authors = this.state.authors.map((el )=> {\r\n            return (\r\n                <option key={el.id} value={el}>{el.surname} {el.name} {el.patronymic}</option>\r\n            )\r\n        });\r\n\r\n        const genres = this.state.genres.map((el) => {\r\n            return (\r\n                <option key={el.id} value={el}>{el.name}</option>\r\n            )\r\n        });\r\n\r\n        const publishers = this.state.publishers.map((el) => {\r\n            return (\r\n                <option key={el.id} value={el}>{el.publisher}</option>\r\n            )\r\n        });\r\n\r\n        const rows = this.state.books.map((el) => {\r\n\r\n            const {id, title, author, genre, year, publisher, amount_pages} = el;\r\n\r\n            return (\r\n                <tr key={id}>\r\n                    <td><input type=\"radio\" name=\"object_id\" value={id} onClick={() => {this.selectedRow(el)}}/></td>\r\n                    <td>{title}</td>\r\n                    <td>{author.surname} {author.name} {author.patronymic}</td>\r\n                    <td>{genre.name}</td>\r\n                    <td>{year}</td>\r\n                    <td>{publisher.publisher}</td>\r\n                    <td>{amount_pages}</td>\r\n                </tr>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <Header/>\r\n\r\n                <main role=\"main\">\r\n\r\n                    <div className=\"container genres-page\">\r\n                        <h1>Books</h1>\r\n\r\n                        <div className=\"genres-tools\">\r\n                            <button className=\"btn btn-outline-danger float-right my-1 item-control\">\r\n                                <i className=\"fa fa-trash-o\"/>\r\n                            </button>\r\n\r\n                            <a className=\"btn btn-outline-warning float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#edit-book-block\" role=\"button\"\r\n                               aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                                <i className=\"fa fa-pencil\"/>\r\n                            </a>\r\n\r\n                            <a className=\"btn btn-outline-success float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#add-book-block\" role=\"button\"\r\n                               aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                                <i className=\"fa fa-plus\"/>\r\n                            </a>\r\n                        </div>\r\n\r\n                        <br/>\r\n                        <br/>\r\n\r\n                        <div className=\"collapse\" id=\"add-book-block\">\r\n                            <div className=\"card card-body mb-2\">\r\n                                <form onSubmit={this.onAddBook}>\r\n                                    <div className=\"genre-form\">\r\n                                        <input type=\"text\" placeholder=\"Write title of new book here...\" className=\"form-control mb-2\" onChange={this.onAddTitle} value={this.state.addBook.addTitle}/>\r\n                                        <div className=\"dropdown home-dropdown d-inline-block home-ldropdown mb-2\">\r\n                                            <select id=\"author-list\" onChange={this.onAddAuthor} value={this.state.addBook.addAuthor}>\r\n                                                {authors}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"dropdown home-dropdown d-inline-block home-ldropdown mb-2\">\r\n                                            <select id=\"genre-list\" onChange={this.onAddGenre} value={this.state.addBook.addGenre}>\r\n                                                {genres}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"dropdown home-dropdown d-inline-block home-ldropdown mb-2\">\r\n                                            <select id=\"publisher-list\" onChange={this.onAddPublisher} value={this.state.addBook.addPublisher}>\r\n                                                {publishers}\r\n                                            </select>\r\n                                        </div>\r\n                                        <input type=\"text\" placeholder=\"Write year of new book here...\" className=\"form-control mb-2\" onChange={this.onAddYear} value={this.state.addBook.addYear}/>\r\n                                        <input type=\"text\" placeholder=\"Write amount of pages of new book here...\" className=\"form-control mb-2\" onChange={this.onAddAmountOfPages} value={this.state.addBook.addAmountOfPages}/>\r\n                                        <button type=\"submit\" className=\"btn btn-info auth-button\">Add</button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/*<div className=\"collapse\" id=\"edit-author-block\">*/}\r\n                        {/*    <div className=\"card card-body\">*/}\r\n                        {/*        <form onSubmit={this.onEditAuthor}>*/}\r\n                        {/*            <input type=\"text\" placeholder=\"Write surname here...\" className=\"form-control mb-2\" onChange={this.onChangeEditSurname} value={this.state.editAuthor.editSurname}/>*/}\r\n                        {/*            <input type=\"text\" placeholder=\"Write name here...\" className=\"form-control mb-2\" onChange={this.onChangeEditName} value={this.state.editAuthor.editName}/>*/}\r\n                        {/*            <input type=\"text\" placeholder=\"Write patronymic here...\" className=\"form-control\" onChange={this.onChangeEditPatronymic} value={this.state.editAuthor.editPatronymic}/>*/}\r\n                        {/*            <button type=\"submit\" className=\"btn btn-info auth-button\">Update</button>*/}\r\n                        {/*        </form>*/}\r\n                        {/*    </div>*/}\r\n                        {/*</div>*/}\r\n\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Title</th>\r\n                                <th>Author</th>\r\n                                <th>Genre</th>\r\n                                <th>Year</th>\r\n                                <th>Publisher</th>\r\n                                <th>Amount of pages</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {rows}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default BooksPage;"]},"metadata":{},"sourceType":"module"}