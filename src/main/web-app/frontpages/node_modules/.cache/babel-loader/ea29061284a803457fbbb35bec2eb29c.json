{"ast":null,"code":"var _jsxFileName = \"D:\\\\libraryservice\\\\frontpages\\\\src\\\\components\\\\genres-page\\\\genres-page.js\";\nimport React, { Component } from 'react';\nimport './genres-page.css';\nimport Header from '../header';\nimport axios from 'axios';\n\nclass GenresPages extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      genres: [],\n      loading: true,\n      error: false,\n      addGenreField: \"\"\n    };\n\n    this.getAllGenres = () => {\n      axios.get(\"http://localhost:8080/genres\").then(response => {\n        this.setState({ ...this.state,\n          genres: response.data,\n          loading: false\n        });\n      });\n      console.log(this.state.genres);\n    };\n\n    this.onAddGenreChange = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        addGenreField: event.target.value\n      });\n    };\n\n    this.onAddButtonClick = event => {\n      event.preventDefault();\n      const genre = {\n        name: this.state.addGenreField\n      };\n      axios.get(\"http://localhost:8080/genres-add\", genre).then(response => {\n        if (response.data === \"\") {\n          console.log(response);\n        }\n      });\n      this.setState({ ...this.state,\n        addGenreField: \"\"\n      });\n      this.getAllGenres();\n    };\n  }\n\n  componentDidMount() {\n    this.getAllGenres();\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 20\n        }\n      }, \"loading....\");\n    }\n\n    const {\n      genres\n    } = this.state;\n    const rows = genres.map(({\n      id,\n      name\n    }) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }\n      }, id), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, name));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container genres-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, \"Genres\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-danger float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#edit-genre-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-warning float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#edit-genre-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-success float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#add-genre-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse\",\n      id: \"add-genre-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write new genre here...\",\n      className: \"form-control\",\n      onChange: this.onAddGenreChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info auth-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 37\n      }\n    }, \"Registration\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse\",\n      id: \"edit-genre-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 29\n      }\n    }, \"Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.\")), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 33\n      }\n    }, \"Id\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 33\n      }\n    }, \"Name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 29\n      }\n    }, rows)))));\n  }\n\n}\n\n;\nexport default GenresPages;","map":{"version":3,"sources":["D:/libraryservice/frontpages/src/components/genres-page/genres-page.js"],"names":["React","Component","Header","axios","GenresPages","state","genres","loading","error","addGenreField","getAllGenres","get","then","response","setState","data","console","log","onAddGenreChange","event","preventDefault","target","value","onAddButtonClick","genre","name","componentDidMount","render","rows","map","id"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './genres-page.css';\r\n\r\nimport Header from '../header';\r\nimport axios from 'axios';\r\n\r\nclass GenresPages extends Component{\r\n\r\n    state = {\r\n        genres : [],\r\n        loading : true,\r\n        error : false,\r\n        addGenreField : \"\"\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getAllGenres();\r\n    }\r\n\r\n    getAllGenres  = () => {\r\n        axios.get(\"http://localhost:8080/genres\")\r\n            .then(response => {\r\n                this.setState({\r\n                    ...this.state,\r\n                    genres: response.data,\r\n                    loading: false\r\n                })});\r\n        console.log(this.state.genres);\r\n    };\r\n\r\n    onAddGenreChange = event => {\r\n        event.preventDefault();\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            addGenreField : event.target.value\r\n        })\r\n    };\r\n\r\n    onAddButtonClick = event => {\r\n        event.preventDefault();\r\n\r\n        const genre = {\r\n            name : this.state.addGenreField\r\n        };\r\n\r\n        axios.get(\"http://localhost:8080/genres-add\", genre)\r\n            .then(response => {\r\n                if(response.data === \"\") {\r\n                    console.log(response);\r\n                }\r\n            });\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            addGenreField : \"\"\r\n        });\r\n\r\n        this.getAllGenres();\r\n\r\n    };\r\n\r\n    render () {\r\n\r\n        if(this.state.loading) {\r\n            return <p>loading....</p>\r\n        }\r\n\r\n        const { genres } = this.state;\r\n\r\n        const rows = genres.map(({id, name}) => {\r\n            return (\r\n                <tr>\r\n                    <td>{id}</td>\r\n                    <td>{name}</td>\r\n                </tr>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <Header/>\r\n\r\n                <main role=\"main\">\r\n\r\n                    <div className=\"container genres-page\">\r\n                        <h1>Genres</h1>\r\n\r\n                        <a className=\"btn btn-outline-danger float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#edit-genre-block\" role=\"button\"\r\n                           aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                            <i className=\"fa fa-trash-o\"/>\r\n                        </a>\r\n\r\n                        <a className=\"btn btn-outline-warning float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#edit-genre-block\" role=\"button\"\r\n                           aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                            <i className=\"fa fa-pencil\"/>\r\n                        </a>\r\n\r\n                        <a className=\"btn btn-outline-success float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#add-genre-block\" role=\"button\"\r\n                           aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                            <i className=\"fa fa-plus\"/>\r\n                        </a>\r\n\r\n                        <div className=\"collapse\" id=\"add-genre-block\">\r\n                            <div className=\"card card-body\">\r\n                                <form>\r\n                                    <input type=\"text\" placeholder=\"Write new genre here...\" className=\"form-control\" onChange={this.onAddGenreChange}/>\r\n                                    <button type=\"submit\" className=\"btn btn-info auth-button\">Registration</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"collapse\" id=\"edit-genre-block\">\r\n                            <div className=\"card card-body\">\r\n                                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad\r\n                                squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt\r\n                                sapiente ea proident.\r\n                            </div>\r\n                        </div>\r\n\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th>Id</th>\r\n                                <th>Name</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {rows}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n\r\n};\r\n\r\nexport default GenresPages;"]},"metadata":{},"sourceType":"module"}