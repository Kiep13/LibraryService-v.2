{"ast":null,"code":"var _jsxFileName = \"D:\\\\libraryservice\\\\frontpages\\\\src\\\\components\\\\libraries-page\\\\libraries-page.js\";\nimport React, { Component } from \"react\";\nimport \"./libraries-page.css\";\nimport Header from \"../header\";\nimport Spinner from \"../spinner\";\nimport axios from \"axios\";\n\nclass LibrariesPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      libraries: [],\n      loading: true,\n      error: false,\n      addLibrary: {\n        addName: \"\",\n        addAddress: \"\",\n        addTelephone: \"\"\n      },\n      editLibrary: {\n        editName: \"\",\n        editAddress: \"\",\n        editTelephone: \"\"\n      },\n      selectedItem: null\n    };\n\n    this.getAllLibraries = () => {\n      axios.get(\"http://localhost:8080/libraries\").then(response => {\n        if (response.data != null) {\n          this.setState({ ...this.state,\n            libraries: response.data,\n            loading: false\n          });\n        }\n      });\n    };\n\n    this.onAddNameChange = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        addLibrary: { ...this.state.addLibrary,\n          addName: event.target.value\n        }\n      });\n    };\n\n    this.onAddAddressChange = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        addLibrary: { ...this.state.addLibrary,\n          addAddress: event.target.value\n        }\n      });\n    };\n\n    this.onAddTelephoneChange = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        addLibrary: { ...this.state.addLibrary,\n          addTelephone: event.target.value\n        }\n      });\n    };\n\n    this.onEditNameChange = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        editLibrary: { ...this.state.editLibrary,\n          editName: event.target.value\n        }\n      });\n    };\n\n    this.onEditAddressChange = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        editLibrary: { ...this.state.editLibrary,\n          editAddress: event.target.value\n        }\n      });\n    };\n\n    this.onEditTelephoneChange = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        editLibrary: { ...this.state.editLibrary,\n          editTelephone: event.target.value\n        }\n      });\n    };\n\n    this.onAddLibrary = async event => {\n      event.preventDefault();\n      const library = {\n        name: this.state.addLibrary.addName,\n        address: this.state.addLibrary.addAddress,\n        telephone: this.state.addLibrary.addTelephone\n      };\n      await axios.post(\"http://localhost:8080/library-add\", library).then(response => {\n        if (response.data != null) {\n          this.setState({ ...this.state,\n            addLibrary: {\n              addName: \"\",\n              addAddress: \"\",\n              addTelephone: \"\"\n            }\n          });\n        }\n      });\n      this.getAllLibraries();\n    };\n\n    this.onEditLibrary = async event => {\n      event.preventDefault();\n      const library = {\n        id: this.state.selectedItem,\n        name: this.state.editLibrary.editName,\n        address: this.state.editLibrary.editAddress,\n        telephone: this.state.editLibrary.editTelephone\n      };\n      await axios.put(\"http://localhost:8080/library-edit\", library).then(response => {});\n    };\n\n    this.onDeleteLibrary = async event => {\n      event.preventDefault();\n\n      if (this.state.selectedItem != null) {\n        await axios.delete(`http://localhost:8080/library-delete/${this.state.selectedItem}`).then(response => {\n          if (response.data != null) {\n            this.selectedRow(null, \"\", \"\", \"\");\n          }\n        });\n        this.getAllLibraries();\n      }\n    };\n\n    this.selectedRow = (id, name, address, telephone) => {\n      this.setState({ ...this.state,\n        editLibrary: {\n          editName: name,\n          editAddress: address,\n          editTelephone: telephone\n        },\n        selectedItem: id\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getAllLibraries();\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const rows = this.state.libraries.map(({\n      id,\n      name,\n      address,\n      telephone\n    }) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"object_id\",\n        value: id,\n        onClick: () => {\n          this.selectedRow(id, name, address, telephone);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }\n      }, name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }\n      }, address), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }\n      }, telephone));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container genres-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, \"Libraries\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"genres-tools\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-danger float-right my-1 item-control\",\n      onClick: this.onDeleteLibrary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-warning float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#edit-library-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-success float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#add-library-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse\",\n      id: \"add-library-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onAddLibrary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"genre-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write name of new library here...\",\n      className: \"form-control mb-2\",\n      onChange: this.onAddNameChange,\n      value: this.state.addLibrary.addName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write address of new library here...\",\n      className: \"form-control mb-2\",\n      onChange: this.onAddAddressChange,\n      value: this.state.addLibrary.addAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write telephone of new library here...\",\n      className: \"form-control mb-2\",\n      onChange: this.onAddTelephoneChange,\n      value: this.state.addLibrary.addTelephone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info auth-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 41\n      }\n    }, \"Add\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse\",\n      id: \"edit-library-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onEditLibrary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write new name of library here...\",\n      className: \"form-control mb-2\",\n      onChange: this.onEditNameChange,\n      value: this.state.editLibrary.editName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write new address of library here...\",\n      className: \"form-control mb-2\",\n      onChange: this.onEditAddressChange,\n      value: this.state.editLibrary.editAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write new telephone of library here...\",\n      className: \"form-control mb-2\",\n      onChange: this.onEditTelephoneChange,\n      value: this.state.editLibrary.editTelephone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info auth-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 37\n      }\n    }, \"Update\")))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 33\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 33\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 33\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 33\n      }\n    }, \"Telephone\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 29\n      }\n    }, rows)))));\n  }\n\n}\n\nexport default LibrariesPage;","map":{"version":3,"sources":["D:/libraryservice/frontpages/src/components/libraries-page/libraries-page.js"],"names":["React","Component","Header","Spinner","axios","LibrariesPage","state","libraries","loading","error","addLibrary","addName","addAddress","addTelephone","editLibrary","editName","editAddress","editTelephone","selectedItem","getAllLibraries","get","then","response","data","setState","onAddNameChange","event","preventDefault","target","value","onAddAddressChange","onAddTelephoneChange","onEditNameChange","onEditAddressChange","onEditTelephoneChange","onAddLibrary","library","name","address","telephone","post","onEditLibrary","id","put","onDeleteLibrary","delete","selectedRow","componentDidMount","render","rows","map"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport \"./libraries-page.css\";\r\nimport Header from \"../header\";\r\nimport Spinner from \"../spinner\";\r\nimport axios from \"axios\";\r\n\r\nclass LibrariesPage extends Component {\r\n\r\n    state = {\r\n        libraries : [],\r\n        loading : true,\r\n        error : false,\r\n        addLibrary : {\r\n            addName : \"\",\r\n            addAddress : \"\",\r\n            addTelephone : \"\"\r\n        },\r\n        editLibrary : {\r\n            editName : \"\",\r\n            editAddress : \"\",\r\n            editTelephone : \"\"\r\n        },\r\n        selectedItem : null\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getAllLibraries();\r\n    }\r\n\r\n    getAllLibraries = () => {\r\n        axios.get(\"http://localhost:8080/libraries\")\r\n            .then(response => {\r\n                if(response.data != null) {\r\n                    this.setState({\r\n                        ...this.state,\r\n                        libraries : response.data,\r\n                        loading : false\r\n                    })\r\n                }\r\n            })\r\n    };\r\n\r\n    onAddNameChange = event => {\r\n        event.preventDefault();\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            addLibrary : {\r\n                ...this.state.addLibrary,\r\n                addName : event.target.value\r\n            }\r\n        })\r\n    };\r\n\r\n    onAddAddressChange = event => {\r\n        event.preventDefault();\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            addLibrary : {\r\n                ...this.state.addLibrary,\r\n                addAddress : event.target.value\r\n            }\r\n        })\r\n    };\r\n\r\n    onAddTelephoneChange = event => {\r\n        event.preventDefault();\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            addLibrary : {\r\n                ...this.state.addLibrary,\r\n                addTelephone : event.target.value\r\n            }\r\n        })\r\n    };\r\n\r\n    onEditNameChange = event => {\r\n        event.preventDefault();\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            editLibrary : {\r\n                ...this.state.editLibrary,\r\n                editName : event.target.value\r\n            }\r\n        })\r\n    };\r\n\r\n    onEditAddressChange = event => {\r\n        event.preventDefault();\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            editLibrary : {\r\n                ...this.state.editLibrary,\r\n                editAddress : event.target.value\r\n            }\r\n        })\r\n    };\r\n\r\n    onEditTelephoneChange = event => {\r\n        event.preventDefault();\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            editLibrary : {\r\n                ...this.state.editLibrary,\r\n                editTelephone : event.target.value\r\n            }\r\n        })\r\n    };\r\n\r\n    onAddLibrary = async event => {\r\n        event.preventDefault();\r\n\r\n        const library = {\r\n            name : this.state.addLibrary.addName,\r\n            address : this.state.addLibrary.addAddress,\r\n            telephone : this.state.addLibrary.addTelephone\r\n        };\r\n\r\n        await axios.post(\"http://localhost:8080/library-add\", library)\r\n            .then(response => {\r\n                if(response.data != null) {\r\n                    this.setState({\r\n                        ...this.state,\r\n                        addLibrary : {\r\n                            addName : \"\",\r\n                            addAddress : \"\",\r\n                            addTelephone : \"\"\r\n                        }\r\n                    })\r\n                }\r\n            });\r\n\r\n        this.getAllLibraries();\r\n\r\n    };\r\n\r\n\r\n    onEditLibrary = async event => {\r\n        event.preventDefault();\r\n\r\n        const library = {\r\n            id : this.state.selectedItem,\r\n            name : this.state.editLibrary.editName,\r\n            address : this.state.editLibrary.editAddress,\r\n            telephone : this.state.editLibrary.editTelephone\r\n        };\r\n\r\n        await axios.put(\"http://localhost:8080/library-edit\", library)\r\n            .then(response => {\r\n                \r\n            })\r\n    }\r\n\r\n    onDeleteLibrary = async event => {\r\n        event.preventDefault();\r\n\r\n        if(this.state.selectedItem != null) {\r\n            await axios.delete(`http://localhost:8080/library-delete/${this.state.selectedItem}`)\r\n                .then(response => {\r\n                    if (response.data != null) {\r\n                        this.selectedRow(null, \"\", \"\", \"\")\r\n                    }\r\n                });\r\n\r\n            this.getAllLibraries();\r\n        }\r\n    };\r\n\r\n    selectedRow = (id, name, address, telephone) => {\r\n        this.setState({\r\n            ...this.state,\r\n            editLibrary : {\r\n                editName : name,\r\n                editAddress: address,\r\n                editTelephone: telephone\r\n            },\r\n            selectedItem : id\r\n        })\r\n    };\r\n\r\n    render () {\r\n\r\n        if(this.state.loading) {\r\n            return <Spinner/>\r\n        }\r\n\r\n        const rows = this.state.libraries.map(({id, name, address, telephone})=>{\r\n            return(\r\n                <tr key={id}>\r\n                    <td><input type=\"radio\" name=\"object_id\" value={id} onClick={() => {this.selectedRow(id, name, address, telephone)}}/></td>\r\n                    <td>{name}</td>\r\n                    <td>{address}</td>\r\n                    <td>{telephone}</td>\r\n                </tr>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <Header/>\r\n\r\n                <main role=\"main\">\r\n\r\n                    <div className=\"container genres-page\">\r\n                        <h1>Libraries</h1>\r\n\r\n                        <div className=\"genres-tools\">\r\n                            <button className=\"btn btn-outline-danger float-right my-1 item-control\" onClick={this.onDeleteLibrary}>\r\n                                <i className=\"fa fa-trash-o\"/>\r\n                            </button>\r\n\r\n                            <a className=\"btn btn-outline-warning float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#edit-library-block\" role=\"button\"\r\n                               aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                                <i className=\"fa fa-pencil\"/>\r\n                            </a>\r\n\r\n                            <a className=\"btn btn-outline-success float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#add-library-block\" role=\"button\"\r\n                               aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                                <i className=\"fa fa-plus\"/>\r\n                            </a>\r\n                        </div>\r\n\r\n                        <br/>\r\n                        <br/>\r\n\r\n                        <div className=\"collapse\" id=\"add-library-block\">\r\n                            <div className=\"card card-body mb-2\">\r\n                                <form onSubmit={this.onAddLibrary}>\r\n                                    <div className=\"genre-form\">\r\n                                        <input type=\"text\" placeholder=\"Write name of new library here...\" className=\"form-control mb-2\" onChange={this.onAddNameChange} value={this.state.addLibrary.addName}/>\r\n                                        <input type=\"text\" placeholder=\"Write address of new library here...\" className=\"form-control mb-2\" onChange={this.onAddAddressChange} value={this.state.addLibrary.addAddress}/>\r\n                                        <input type=\"text\" placeholder=\"Write telephone of new library here...\" className=\"form-control mb-2\" onChange={this.onAddTelephoneChange} value={this.state.addLibrary.addTelephone}/>\r\n                                        <button type=\"submit\" className=\"btn btn-info auth-button\">Add</button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"collapse\" id=\"edit-library-block\">\r\n                            <div className=\"card card-body\">\r\n                                <form onSubmit={this.onEditLibrary}>\r\n                                    <input type=\"text\" placeholder=\"Write new name of library here...\" className=\"form-control mb-2\" onChange={this.onEditNameChange} value={this.state.editLibrary.editName}/>\r\n                                    <input type=\"text\" placeholder=\"Write new address of library here...\" className=\"form-control mb-2\" onChange={this.onEditAddressChange} value={this.state.editLibrary.editAddress}/>\r\n                                    <input type=\"text\" placeholder=\"Write new telephone of library here...\" className=\"form-control mb-2\" onChange={this.onEditTelephoneChange} value={this.state.editLibrary.editTelephone}/>\r\n                                    <button type=\"submit\" className=\"btn btn-info auth-button\">Update</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Name</th>\r\n                                <th>Address</th>\r\n                                <th>Telephone</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {rows}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default LibrariesPage;"]},"metadata":{},"sourceType":"module"}