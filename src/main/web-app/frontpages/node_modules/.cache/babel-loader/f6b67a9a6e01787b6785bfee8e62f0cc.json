{"ast":null,"code":"const updateBooksList = (state, action) => {\n  const initialState = {\n    books: [],\n    loading: true,\n    error: false,\n    addBook: {\n      addTitle: \"\",\n      addAuthor: {},\n      addGenre: {},\n      addYear: \"\",\n      addPublisher: {},\n      addAmountOfPages: \"\"\n    },\n    editBook: {\n      editTitle: \"\",\n      editAuthor: {},\n      editGenre: {},\n      editYear: \"\",\n      editPublisher: {},\n      editAmountOfPages: \"\"\n    },\n    selectedItem: null\n  };\n\n  if (state === undefined) {\n    return initialState;\n  }\n\n  switch (action.type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return { ...state.booksList,\n        books: [],\n        loading: true\n      };\n\n    case 'FETCH_BOOKS_SUCCESS':\n      console.log(state.authorsList.authors);\n      console.log(state.genresList.genres);\n      console.log(state.publishersList.publishers);\n      return { ...initialState,\n        books: action.payload,\n        loading: false,\n        addBook: { ...state.booksList.addBook,\n          addAuthor: state.authorsList.authors[0],\n          addGenre: state.genresList.genres[0],\n          addPublisher: state.publishersList.publishers[0]\n        }\n      };\n\n    case 'FETCH_BOOKS_FAILURE':\n      return { ...state.booksList,\n        books: [],\n        loading: false,\n        error: action.payload\n      };\n\n    case 'FETCH_AUTHORS_SUCCESS':\n      return { ...state.booksList,\n        addBook: { ...state.booksList.addBook,\n          addAuthor: action.payload[0]\n        }\n      };\n\n    case 'FETCH_GENRES_SUCCESS':\n      return { ...state.booksList,\n        addBook: { ...state.booksList.addBook,\n          addGenre: action.payload[0]\n        }\n      };\n\n    case 'FETCH_PUBLISHERS_SUCCESS':\n      return { ...state.booksList,\n        addBook: { ...state.booksList.addBook,\n          addPublisher: action.payload[0]\n        }\n      };\n\n    case 'UPDATE_BOOKS_ADD_TITLE_FIELD':\n      return { ...state.booksList,\n        addBook: { ...state.booksList.addBook,\n          addTitle: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_ADD_AUTHOR_FIELD':\n      return { ...state.booksList,\n        addBook: { ...state.booksList.addBook,\n          addAuthor: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_ADD_GENRE_FIELD':\n      return { ...state.booksList,\n        addBook: { ...state.booksList.addBook,\n          addGenre: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_ADD_YEAR_FIELD':\n      return { ...state.booksList,\n        addBook: { ...state.booksList.addBook,\n          addYear: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_ADD_PUBLISHER_FIELD':\n      return { ...state.booksList,\n        addBook: { ...state.booksList.addBook,\n          addPublisher: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_ADD_PAGES_FIELD':\n      return { ...state.booksList,\n        addBook: { ...state.booksList.addBook,\n          addAmountOfPages: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_EDIT_TITLE_FIELD':\n      return { ...state.booksList,\n        editBook: { ...state.booksList.editBook,\n          editTitle: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_EDIT_AUTHOR_FIELD':\n      return { ...state.booksList,\n        editBook: { ...state.booksList.editBook,\n          editAuthor: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_EDIT_GENRE_FIELD':\n      return { ...state.booksList,\n        editBook: { ...state.booksList.editBook,\n          editGenre: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_EDIT_YEAR_FIELD':\n      return { ...state.booksList,\n        editBook: { ...state.booksList.editBook,\n          editYear: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_EDIT_PUBLISHER_FIELD':\n      return { ...state.booksList,\n        editBook: { ...state.booksList.editBook,\n          editPublisher: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_EDIT_PAGES_FIELD':\n      return { ...state.booksList,\n        editBook: { ...state.booksList.editBook,\n          editAmountOfPages: action.payload\n        }\n      };\n\n    case 'UPDATE_BOOKS_SELECTED_ITEM':\n      console.log(action.payload);\n      return { ...state.booksList,\n        editBook: action.payload.book,\n        selectedItem: action.payload.id\n      };\n\n    default:\n      return state.booksList;\n  }\n};\n\nexport default updateBooksList;","map":{"version":3,"sources":["D:/libraryservice/frontpages/src/reducers/update-books.js"],"names":["updateBooksList","state","action","initialState","books","loading","error","addBook","addTitle","addAuthor","addGenre","addYear","addPublisher","addAmountOfPages","editBook","editTitle","editAuthor","editGenre","editYear","editPublisher","editAmountOfPages","selectedItem","undefined","type","booksList","console","log","authorsList","authors","genresList","genres","publishersList","publishers","payload","book","id"],"mappings":"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","sourcesContent":["const updateBooksList = (state, action) => {\r\n\r\n    const initialState = {\r\n        books : [],\r\n        loading : true,\r\n        error : false,\r\n        addBook : {\r\n            addTitle : \"\",\r\n            addAuthor : {},\r\n            addGenre : {},\r\n            addYear : \"\",\r\n            addPublisher : {},\r\n            addAmountOfPages : \"\"\r\n        },\r\n        editBook : {\r\n            editTitle : \"\",\r\n            editAuthor : {},\r\n            editGenre : {},\r\n            editYear : \"\",\r\n            editPublisher : {},\r\n            editAmountOfPages : \"\"\r\n        },\r\n        selectedItem : null\r\n    };\r\n\r\n    if(state === undefined) {\r\n        return initialState;\r\n    }\r\n\r\n    switch (action.type) {\r\n        case 'FETCH_BOOKS_REQUEST':\r\n            return {\r\n                ...state.booksList,\r\n                books : [],\r\n                loading: true,\r\n            };\r\n        case 'FETCH_BOOKS_SUCCESS' :\r\n            console.log(state.authorsList.authors);\r\n            console.log(state.genresList.genres);\r\n            console.log(state.publishersList.publishers);\r\n            return {\r\n                ...initialState,\r\n                books : action.payload,\r\n                loading : false,\r\n                addBook: {\r\n                    ...state.booksList.addBook,\r\n                    addAuthor : state.authorsList.authors[0],\r\n                    addGenre : state.genresList.genres[0],\r\n                    addPublisher : state.publishersList.publishers[0]\r\n                }\r\n            };\r\n        case 'FETCH_BOOKS_FAILURE' :\r\n            return {\r\n                ...state.booksList,\r\n                books : [],\r\n                loading : false,\r\n                error : action.payload\r\n            };\r\n        case 'FETCH_AUTHORS_SUCCESS':\r\n            return {\r\n                ...state.booksList,\r\n                addBook : {\r\n                    ...state.booksList.addBook,\r\n                    addAuthor : action.payload[0]\r\n                }\r\n            };\r\n        case 'FETCH_GENRES_SUCCESS':\r\n            return {\r\n                ...state.booksList,\r\n                addBook : {\r\n                    ...state.booksList.addBook,\r\n                    addGenre : action.payload[0]\r\n                }\r\n            };\r\n        case 'FETCH_PUBLISHERS_SUCCESS':\r\n            return {\r\n                ...state.booksList,\r\n                addBook : {\r\n                    ...state.booksList.addBook,\r\n                    addPublisher : action.payload[0]\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_ADD_TITLE_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                addBook: {\r\n                    ...state.booksList.addBook,\r\n                    addTitle : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_ADD_AUTHOR_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                addBook: {\r\n                    ...state.booksList.addBook,\r\n                    addAuthor : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_ADD_GENRE_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                addBook: {\r\n                    ...state.booksList.addBook,\r\n                    addGenre : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_ADD_YEAR_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                addBook: {\r\n                    ...state.booksList.addBook,\r\n                    addYear : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_ADD_PUBLISHER_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                addBook: {\r\n                    ...state.booksList.addBook,\r\n                    addPublisher : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_ADD_PAGES_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                addBook: {\r\n                    ...state.booksList.addBook,\r\n                    addAmountOfPages : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_EDIT_TITLE_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                editBook: {\r\n                    ...state.booksList.editBook,\r\n                    editTitle : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_EDIT_AUTHOR_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                editBook: {\r\n                    ...state.booksList.editBook,\r\n                    editAuthor : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_EDIT_GENRE_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                editBook: {\r\n                    ...state.booksList.editBook,\r\n                    editGenre : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_EDIT_YEAR_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                editBook: {\r\n                    ...state.booksList.editBook,\r\n                    editYear: action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_EDIT_PUBLISHER_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                editBook: {\r\n                    ...state.booksList.editBook,\r\n                    editPublisher : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_EDIT_PAGES_FIELD' :\r\n            return {\r\n                ...state.booksList,\r\n                editBook: {\r\n                    ...state.booksList.editBook,\r\n                    editAmountOfPages : action.payload\r\n                }\r\n            };\r\n        case 'UPDATE_BOOKS_SELECTED_ITEM' :\r\n            console.log(action.payload);\r\n            return {\r\n                ...state.booksList,\r\n                editBook: action.payload.book,\r\n                selectedItem : action.payload.id\r\n            };\r\n        default :\r\n            return state.booksList\r\n    }\r\n\r\n};\r\n\r\nexport default updateBooksList;"]},"metadata":{},"sourceType":"module"}