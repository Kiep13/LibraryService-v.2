{"ast":null,"code":"var _jsxFileName = \"D:\\\\libraryservice\\\\frontpages\\\\src\\\\components\\\\bookfund-page\\\\bookfund-page.js\";\nimport React, { Component } from \"react\";\nimport \"./bookfund-page.css\";\nimport Spinner from \"../spinner\";\nimport Header from \"../header\";\nimport { Redirect } from 'react-router-dom';\nimport { compose } from \"../../utils\";\nimport { connect } from \"react-redux\";\nimport withLibraryService from \"../../hoc\";\nimport { bookFundRequested, bookFundLoaded, bookFundShowAddWindow, bookFundShowEditWindow, bookFundUpdateAddBookField, bookFundUpdateAddLibraryField, bookFundUpdateAddAmountField, bookFundUpdateEditBookField, bookFundUpdateEditLibraryField, bookFundUpdateEditAmountField, booksFundUpdateSelectedItem } from \"../../actions/book-fund-actions\";\nimport { booksLoaded } from \"../../actions/books-actions\";\nimport { librariesLoaded } from \"../../actions/libraries-actions\";\n\nclass BookFundPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isAddAmountError: false,\n      isEditAmountError: false\n    };\n    this.regExpNumber = new RegExp(\"^[0-9]+$\");\n    this.errorAmountMessage = \"The number of pages must be an integer no less than 5 and no more than 2000\";\n\n    this.validateAmount = (amount, isErrorField) => {\n      let isError = !this.regExpNumber.test(amount);\n      isError = !isError ? amount < 0 || amount > 200 : isError;\n      this.changeErrorState(isErrorField, isError);\n    };\n\n    this.changeErrorState = (isErrorField, value) => {\n      this.setState({\n        [isErrorField]: value\n      });\n    };\n\n    this.getAllBooks = async () => {\n      const books = await this.props.libraryService.getAllBooks();\n      this.props.onLoadedBooks(books);\n    };\n\n    this.getAllLibraries = async () => {\n      const libraries = await this.props.libraryService.getAllLibraries();\n      this.props.onLoadedLibraries(libraries);\n    };\n\n    this.getBookFund = async () => {\n      const book_fund = await this.props.libraryService.getBookFund();\n      this.props.onLoaded(book_fund);\n    };\n\n    this.findBook = id => {\n      return this.props.books.find(el => el.id === +id);\n    };\n\n    this.findLibrary = id => {\n      return this.props.libraries.find(el => el.id === +id);\n    };\n\n    this.changeAddBook = event => {\n      event.preventDefault();\n      this.props.changeAddBook(this.findBook(event.target.value));\n    };\n\n    this.changeAddLibrary = event => {\n      event.preventDefault();\n      this.props.changeAddLibrary(this.findLibrary(event.target.value));\n    };\n\n    this.changeAddAmount = event => {\n      event.preventDefault();\n      this.validateAmount(event.target.value, \"isAddAmountError\");\n      this.props.changeAddAmount(event.target.value);\n    };\n\n    this.changeEditBook = event => {\n      event.preventDefault();\n      this.props.changeEditBook(this.findBook(event.target.value));\n    };\n\n    this.changeEditLibrary = event => {\n      event.preventDefault();\n      this.props.changeEditLibrary(this.findLibrary(event.target.value));\n    };\n\n    this.changeEditAmount = event => {\n      event.preventDefault();\n      this.validateAmount(event.target.value, \"isEditAmountError\");\n      this.props.changeEditAmount(event.target.value);\n    };\n\n    this.onAddClick = async event => {\n      event.preventDefault();\n\n      if (!this.props.isEditWindow) {\n        const value = this.props.isAddWindow;\n\n        if (value) {\n          this.changeErrorState(\"isAddAmountError\", \"\", false);\n          this.props.changeAddAmount(\"\");\n        }\n\n        this.props.changeAddWindow(!value);\n      } else {\n        alert(\"You have opened edit window\");\n      }\n    };\n\n    this.onEditClick = async event => {\n      event.preventDefault();\n\n      if (!this.props.isAddWindow) {\n        if (this.props.selectedItem != null) {\n          const value = this.props.isEditWindow;\n          this.props.changeEditWindow(!value);\n        } else {\n          alert(\"You did not choose record!\");\n        }\n      } else {\n        alert(\"You have opened add window\");\n      }\n    };\n\n    this.onDeleteClick = async event => {\n      event.preventDefault();\n\n      if (this.props.selectedItem != null) {\n        await this.props.libraryService.deleteBookFund(this.props.selectedItem);\n        this.props.onRequest();\n        this.getBookFund();\n      } else {\n        alert(\"You did not choose record!\");\n      }\n    };\n\n    this.addBookFund = async event => {\n      event.preventDefault();\n      await this.validateYear(this.props.addBookFund.addAmount, \"isAddAmountError\");\n\n      if (this.state.isAddAmountError) {\n        const bookFund = {\n          book: this.props.addBookFund.addBook,\n          library: this.props.addBookFund.addLibrary,\n          amount: +this.props.addBookFund.addAmount\n        };\n        await this.props.libraryService.addBookFund(bookFund);\n        this.props.onRequest();\n        this.getBookFund();\n      }\n    };\n\n    this.editBookFund = async event => {\n      event.preventDefault();\n      const {\n        editBook,\n        editLibrary,\n        editAmount\n      } = this.props.editBookFund;\n      await this.validateYear(editAmount, \"isEditAmountError\");\n\n      if (this.state.isEditAmountError) {\n        const bookFund = {\n          id: this.props.selectedItem,\n          book: editBook,\n          library: editLibrary,\n          amount: +editAmount\n        };\n        await this.props.libraryService.editBookFund(bookFund);\n        this.props.onRequest();\n        this.getBookFund();\n      }\n    };\n\n    this.selectedRow = ({\n      id,\n      book,\n      library,\n      amount\n    }) => {\n      const book_fund = {\n        editBook: book,\n        editLibrary: library,\n        editAmount: amount\n      };\n      this.props.changeItem({\n        id,\n        book_fund\n      });\n      this.changeErrorState(\"isEditAmountError\", \"\", false);\n    };\n  }\n\n  componentDidMount() {\n    this.props.onRequest();\n    this.getAllBooks();\n    this.getAllLibraries();\n    this.getBookFund();\n  } //regular expressions for checking entered data\n\n\n  render() {\n    if (!this.props.isLoggedIn) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/authorization\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 20\n        }\n      });\n    }\n\n    if (this.props.loading) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const books = this.props.books.map(({\n      id,\n      title,\n      year\n    }) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: id,\n        value: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 17\n        }\n      }, title, \" (\", year, \")\");\n    });\n    const libraries = this.props.libraries.map(({\n      id,\n      name\n    }) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: id,\n        value: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 17\n        }\n      }, name);\n    });\n    const rows = this.props.book_fund.map(el => {\n      const {\n        id,\n        book,\n        library\n      } = el;\n      const {\n        title,\n        author,\n        genre,\n        year,\n        publisher,\n        amount_pages\n      } = book;\n      const {\n        name,\n        address,\n        telephone\n      } = library;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"object_id\",\n        value: id,\n        onClick: () => {\n          this.selectedRow(el);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }\n      }, title), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }\n      }, author.surname, \" \", author.name, \" \", author.patronymic), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }\n      }, genre.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }\n      }, year), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }\n      }, publisher.publisher), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }\n      }, amount_pages), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }\n      }, name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }\n      }, address), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }\n      }, telephone));\n    });\n    const {\n      addBook,\n      addLibrary,\n      addAmount\n    } = this.props.addBookFund;\n    const {\n      editBook,\n      editLibrary,\n      editAmount\n    } = this.props.editBookFund;\n    const styleAddAmount = this.state.isAddAmountError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\n    const addWindow = !this.props.isAddWindow ? null : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"add-book-fund-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.addBookFund,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"book-fund-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown d-inline-block mb-2 form-label col ml-0 mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"add-books-list\",\n      className: \"form-control\",\n      onChange: this.changeAddBook,\n      value: addBook.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 37\n      }\n    }, books)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown d-inline-block mb-2 form-label col ml-1 mr-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"add-libraries-list\",\n      className: \"form-control\",\n      onChange: this.changeAddLibrary,\n      value: addLibrary.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 37\n      }\n    }, libraries))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write year of new book here...\",\n      className: styleAddAmount,\n      onChange: this.changeAddAmount,\n      value: addAmount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 29\n      }\n    }), this.state.isAddAmountError ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"red-text mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 60\n      }\n    }, this.errorAmountMessage) : null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info form-button mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 29\n      }\n    }, \"Add\")))));\n    const styleEditAmount = this.state.isEditAmountError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\n    const editWindow = !this.props.isEditWindow ? null : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"edit-book-fund-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.editBookFund,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"book-fund-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown d-inline-block mb-2 form-label col ml-0 mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"edit-books-list\",\n      className: \"form-control\",\n      onChange: this.changeEditBook,\n      value: editBook.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 37\n      }\n    }, books)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown d-inline-block mb-2 form-label col ml-1 mr-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"edit-libraries-list\",\n      className: \"form-control\",\n      onChange: this.changeEditLibrary,\n      value: editLibrary.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 37\n      }\n    }, libraries))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write year of new book here...\",\n      className: \"form-control mb-2  form-label\",\n      onChange: this.changeEditAmount,\n      value: editAmount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info form-button mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 29\n      }\n    }, \"Update\")))));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container book-fund-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 25\n      }\n    }, \"BookFund\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"book-fund-tools\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-danger float-right my-1 item-control\",\n      onClick: this.onDeleteClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-warning float-right my-1 item-control\",\n      onClick: this.onEditClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-success float-right my-1 item-control\",\n      onClick: this.onAddClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 25\n      }\n    }), addWindow, editWindow, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 33\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 33\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 33\n      }\n    }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 33\n      }\n    }, \"Genre\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 33\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 33\n      }\n    }, \"Publisher\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 33\n      }\n    }, \"Pages\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 33\n      }\n    }, \"Library\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 33\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 33\n      }\n    }, \"Telephone\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 29\n      }\n    }, rows)))));\n  }\n\n}\n\nconst mapStateToProps = ({\n  booksList,\n  librariesList,\n  bookFundList,\n  authorizationBlock\n}) => {\n  return {\n    isLoggedIn: authorizationBlock.isLoggedIn,\n    book_fund: bookFundList.book_fund,\n    books: booksList.books,\n    libraries: librariesList.libraries,\n    loading: bookFundList.loading,\n    isAddWindow: bookFundList.isAddWindow,\n    isEditWindow: bookFundList.isEditWindow,\n    addBookFund: bookFundList.addBookFund,\n    editBookFund: bookFundList.editBookFund,\n    selectedItem: bookFundList.selectedItem\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onRequest: () => {\n      dispatch(bookFundRequested());\n    },\n    onLoadedBooks: newBooks => {\n      dispatch(booksLoaded(newBooks));\n    },\n    onLoadedLibraries: newLibraries => {\n      dispatch(librariesLoaded(newLibraries));\n    },\n    onLoaded: newBookFund => {\n      dispatch(bookFundLoaded(newBookFund));\n    },\n    changeAddWindow: value => {\n      dispatch(bookFundShowAddWindow(value));\n    },\n    changeEditWindow: value => {\n      dispatch(bookFundShowEditWindow(value));\n    },\n    changeAddBook: value => {\n      dispatch(bookFundUpdateAddBookField(value));\n    },\n    changeAddLibrary: value => {\n      dispatch(bookFundUpdateAddLibraryField(value));\n    },\n    changeAddAmount: value => {\n      dispatch(bookFundUpdateAddAmountField(value));\n    },\n    changeEditBook: value => {\n      dispatch(bookFundUpdateEditBookField(value));\n    },\n    changeEditLibrary: value => {\n      dispatch(bookFundUpdateEditLibraryField(value));\n    },\n    changeEditAmount: value => {\n      dispatch(bookFundUpdateEditAmountField(value));\n    },\n    changeItem: item => {\n      dispatch(booksFundUpdateSelectedItem(item));\n    }\n  };\n};\n\nexport default compose(withLibraryService(), connect(mapStateToProps, mapDispatchToProps))(BookFundPage);","map":{"version":3,"sources":["D:/libraryservice/frontpages/src/components/bookfund-page/bookfund-page.js"],"names":["React","Component","Spinner","Header","Redirect","compose","connect","withLibraryService","bookFundRequested","bookFundLoaded","bookFundShowAddWindow","bookFundShowEditWindow","bookFundUpdateAddBookField","bookFundUpdateAddLibraryField","bookFundUpdateAddAmountField","bookFundUpdateEditBookField","bookFundUpdateEditLibraryField","bookFundUpdateEditAmountField","booksFundUpdateSelectedItem","booksLoaded","librariesLoaded","BookFundPage","state","isAddAmountError","isEditAmountError","regExpNumber","RegExp","errorAmountMessage","validateAmount","amount","isErrorField","isError","test","changeErrorState","value","setState","getAllBooks","books","props","libraryService","onLoadedBooks","getAllLibraries","libraries","onLoadedLibraries","getBookFund","book_fund","onLoaded","findBook","id","find","el","findLibrary","changeAddBook","event","preventDefault","target","changeAddLibrary","changeAddAmount","changeEditBook","changeEditLibrary","changeEditAmount","onAddClick","isEditWindow","isAddWindow","changeAddWindow","alert","onEditClick","selectedItem","changeEditWindow","onDeleteClick","deleteBookFund","onRequest","addBookFund","validateYear","addAmount","bookFund","book","addBook","library","addLibrary","editBookFund","editBook","editLibrary","editAmount","selectedRow","changeItem","componentDidMount","render","isLoggedIn","loading","map","title","year","name","rows","author","genre","publisher","amount_pages","address","telephone","surname","patronymic","styleAddAmount","addWindow","styleEditAmount","editWindow","mapStateToProps","booksList","librariesList","bookFundList","authorizationBlock","mapDispatchToProps","dispatch","newBooks","newLibraries","newBookFund","item"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport \"./bookfund-page.css\";\r\nimport Spinner from \"../spinner\";\r\nimport Header from \"../header\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport {compose} from \"../../utils\";\r\nimport {connect} from \"react-redux\";\r\nimport withLibraryService from \"../../hoc\";\r\nimport {\r\n    bookFundRequested,\r\n    bookFundLoaded,\r\n    bookFundShowAddWindow,\r\n    bookFundShowEditWindow,\r\n    bookFundUpdateAddBookField,\r\n    bookFundUpdateAddLibraryField,\r\n    bookFundUpdateAddAmountField,\r\n    bookFundUpdateEditBookField,\r\n    bookFundUpdateEditLibraryField,\r\n    bookFundUpdateEditAmountField,\r\n    booksFundUpdateSelectedItem\r\n} from \"../../actions/book-fund-actions\";\r\nimport {booksLoaded} from \"../../actions/books-actions\";\r\nimport {librariesLoaded} from \"../../actions/libraries-actions\";\r\n\r\nclass BookFundPage extends Component {\r\n\r\n    // necessary for error handling and pointless, in my opinion, for rendering to the global state\r\n    state = {\r\n        isAddAmountError : false,\r\n        isEditAmountError : false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.onRequest();\r\n        this.getAllBooks();\r\n        this.getAllLibraries();\r\n        this.getBookFund();\r\n    }\r\n\r\n    //regular expressions for checking entered data\r\n    regExpNumber = new RegExp(\"^[0-9]+$\");\r\n\r\n    //error message\r\n    errorAmountMessage = \"The number of pages must be an integer no less than 5 and no more than 2000\";\r\n\r\n    validateAmount = (amount, isErrorField) => {\r\n        let isError = !this.regExpNumber.test(amount);\r\n        isError = !isError ? ((amount < 0) || (amount > 200)) : isError;\r\n        this.changeErrorState(isErrorField,  isError);\r\n    };\r\n\r\n    changeErrorState = (isErrorField, value) => {\r\n        this.setState({\r\n            [isErrorField] : value\r\n        })\r\n    };\r\n\r\n    getAllBooks = async () => {\r\n        const books = await this.props.libraryService.getAllBooks();\r\n        this.props.onLoadedBooks(books);\r\n    };\r\n\r\n    getAllLibraries = async () => {\r\n        const libraries = await this.props.libraryService.getAllLibraries();\r\n        this.props.onLoadedLibraries(libraries);\r\n    };\r\n\r\n    getBookFund = async () => {\r\n        const book_fund = await this.props.libraryService.getBookFund();\r\n        this.props.onLoaded(book_fund);\r\n    };\r\n\r\n    findBook = (id) => {\r\n        return this.props.books.find((el) => el.id === +id);\r\n    };\r\n\r\n    findLibrary = (id) => {\r\n        return this.props.libraries.find((el) => el.id === +id);\r\n    };\r\n\r\n    changeAddBook= event => {\r\n        event.preventDefault();\r\n        this.props.changeAddBook(this.findBook(event.target.value));\r\n    };\r\n\r\n    changeAddLibrary = event => {\r\n        event.preventDefault();\r\n        this.props.changeAddLibrary(this.findLibrary(event.target.value));\r\n    };\r\n\r\n    changeAddAmount = event => {\r\n        event.preventDefault();\r\n        this.validateAmount(event.target.value, \"isAddAmountError\");\r\n        this.props.changeAddAmount(event.target.value);\r\n    };\r\n\r\n    changeEditBook= event => {\r\n        event.preventDefault();\r\n        this.props.changeEditBook(this.findBook(event.target.value));\r\n    };\r\n\r\n    changeEditLibrary = event => {\r\n        event.preventDefault();\r\n        this.props.changeEditLibrary(this.findLibrary(event.target.value));\r\n    };\r\n\r\n    changeEditAmount = event => {\r\n        event.preventDefault();\r\n        this.validateAmount(event.target.value, \"isEditAmountError\");\r\n        this.props.changeEditAmount(event.target.value);\r\n    };\r\n\r\n    onAddClick = async event => {\r\n        event.preventDefault();\r\n        if(!this.props.isEditWindow) {\r\n            const value = this.props.isAddWindow;\r\n            if(value) {\r\n                this.changeErrorState(\"isAddAmountError\", \"\", false);\r\n                this.props.changeAddAmount(\"\");\r\n            }\r\n            this.props.changeAddWindow(!value);\r\n        } else {\r\n            alert(\"You have opened edit window\");\r\n        }\r\n    };\r\n\r\n    onEditClick = async event => {\r\n        event.preventDefault();\r\n        if(!this.props.isAddWindow) {\r\n            if (this.props.selectedItem != null) {\r\n                const value = this.props.isEditWindow;\r\n                this.props.changeEditWindow(!value);\r\n            } else {\r\n                alert(\"You did not choose record!\");\r\n            }\r\n        } else {\r\n            alert(\"You have opened add window\");\r\n        }\r\n    };\r\n\r\n    onDeleteClick = async event => {\r\n        event.preventDefault();\r\n\r\n        if(this.props.selectedItem != null) {\r\n            await this.props.libraryService.deleteBookFund(this.props.selectedItem);\r\n            this.props.onRequest();\r\n            this.getBookFund();\r\n        } else {\r\n            alert(\"You did not choose record!\");\r\n        }\r\n    };\r\n\r\n    addBookFund = async event => {\r\n        event.preventDefault();\r\n\r\n        await this.validateYear(this.props.addBookFund.addAmount, \"isAddAmountError\");\r\n\r\n        if(this.state.isAddAmountError) {\r\n            const bookFund = {\r\n                book : this.props.addBookFund.addBook,\r\n                library : this.props.addBookFund.addLibrary,\r\n                amount : +this.props.addBookFund.addAmount\r\n            };\r\n\r\n            await this.props.libraryService.addBookFund(bookFund);\r\n            this.props.onRequest();\r\n            this.getBookFund();\r\n        }\r\n\r\n    };\r\n\r\n    editBookFund = async event => {\r\n        event.preventDefault();\r\n\r\n        const { editBook, editLibrary, editAmount } = this.props.editBookFund;\r\n        await this.validateYear(editAmount, \"isEditAmountError\");\r\n\r\n        if(this.state.isEditAmountError) {\r\n\r\n            const bookFund = {\r\n                id : this.props.selectedItem,\r\n                book : editBook,\r\n                library: editLibrary,\r\n                amount : +editAmount\r\n            };\r\n\r\n            await this.props.libraryService.editBookFund(bookFund);\r\n            this.props.onRequest();\r\n            this.getBookFund();\r\n        }\r\n    };\r\n\r\n    selectedRow = ({id, book, library, amount}) => {\r\n        const book_fund = {\r\n            editBook : book,\r\n            editLibrary: library,\r\n            editAmount: amount\r\n        };\r\n        this.props.changeItem({id, book_fund});\r\n        this.changeErrorState(\"isEditAmountError\", \"\", false);\r\n    };\r\n\r\n    render() {\r\n\r\n        if(!this.props.isLoggedIn) {\r\n            return <Redirect to='/authorization'/>\r\n        }\r\n\r\n        if(this.props.loading){\r\n            return <Spinner/>\r\n        }\r\n\r\n        const books = this.props.books.map(({id, title, year} )=> {\r\n            return (\r\n                <option key={id} value={id}>{title} ({year})</option>\r\n            )\r\n        });\r\n\r\n        const libraries = this.props.libraries.map(({id, name}) => {\r\n            return (\r\n                <option key={id} value={id}>{name}</option>\r\n            )\r\n        });\r\n\r\n        const rows = this.props.book_fund.map((el) => {\r\n\r\n            const {id, book, library} = el;\r\n            const {title, author, genre, year, publisher, amount_pages } = book;\r\n            const {name, address, telephone} = library;\r\n\r\n            return (\r\n                <tr key={id}>\r\n                    <td><input type=\"radio\" name=\"object_id\" value={id} onClick={() => {this.selectedRow(el)}}/></td>\r\n                    <td>{title}</td>\r\n                    <td>{author.surname} {author.name} {author.patronymic}</td>\r\n                    <td>{genre.name}</td>\r\n                    <td>{year}</td>\r\n                    <td>{publisher.publisher}</td>\r\n                    <td>{amount_pages}</td>\r\n                    <td>{name}</td>\r\n                    <td>{address}</td>\r\n                    <td>{telephone}</td>\r\n                </tr>\r\n            )\r\n        });\r\n\r\n        const {addBook, addLibrary, addAmount} = this.props.addBookFund;\r\n        const {editBook, editLibrary, editAmount} = this.props.editBookFund;\r\n\r\n        const styleAddAmount = this.state.isAddAmountError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\r\n\r\n        const addWindow = !this.props.isAddWindow ? null :\r\n            <div id=\"add-book-fund-block\">\r\n                <div className=\"card card-body mb-2\">\r\n                    <form onSubmit={this.addBookFund}>\r\n                        <div className=\"book-fund-form\">\r\n                            <div className=\"row\">\r\n                                <div className=\"dropdown d-inline-block mb-2 form-label col ml-0 mr-1\">\r\n                                    <select id=\"add-books-list\" className=\"form-control\" onChange={this.changeAddBook} value={addBook.id}>\r\n                                        {books}\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"dropdown d-inline-block mb-2 form-label col ml-1 mr-0\">\r\n                                    <select id=\"add-libraries-list\" className=\"form-control\" onChange={this.changeAddLibrary} value={addLibrary.id}>\r\n                                        {libraries}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <input type=\"text\" placeholder=\"Write year of new book here...\" className={styleAddAmount} onChange={this.changeAddAmount} value={addAmount}/>\r\n                            {this.state.isAddAmountError ? <div className=\"red-text mb-2\">{this.errorAmountMessage}</div> : null}\r\n                            <button type=\"submit\" className=\"btn btn-info form-button mt-2\">Add</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>;\r\n\r\n        const styleEditAmount = this.state.isEditAmountError ? \"form-control mb-2 form-label red-box\" : \"form-control mb-2 form-label\";\r\n\r\n        const editWindow = !this.props.isEditWindow ? null :\r\n            <div id=\"edit-book-fund-block\">\r\n                <div className=\"card card-body mb-2\">\r\n                    <form onSubmit={this.editBookFund}>\r\n                        <div className=\"book-fund-form\">\r\n                            <div className=\"row\">\r\n                                <div className=\"dropdown d-inline-block mb-2 form-label col ml-0 mr-1\">\r\n                                    <select id=\"edit-books-list\" className=\"form-control\" onChange={this.changeEditBook} value={editBook.id}>\r\n                                        {books}\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"dropdown d-inline-block mb-2 form-label col ml-1 mr-0\">\r\n                                    <select id=\"edit-libraries-list\" className=\"form-control\" onChange={this.changeEditLibrary} value={editLibrary.id}>\r\n                                        {libraries}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <input type=\"text\" placeholder=\"Write year of new book here...\" className=\"form-control mb-2  form-label\" onChange={this.changeEditAmount} value={editAmount}/>\r\n                            <button type=\"submit\" className=\"btn btn-info form-button mt-2\">Update</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>;\r\n\r\n        return (\r\n            <div>\r\n                <Header/>\r\n\r\n                <main role=\"main\">\r\n\r\n                    <div className=\"container book-fund-page\">\r\n                        <h1>BookFund</h1>\r\n\r\n                        <div className=\"book-fund-tools\">\r\n                            <button className=\"btn btn-outline-danger float-right my-1 item-control\" onClick={this.onDeleteClick}>\r\n                                <i className=\"fa fa-trash-o\"/>\r\n                            </button>\r\n\r\n                            <button className=\"btn btn-outline-warning float-right my-1 item-control\" onClick={this.onEditClick}>\r\n                                <i className=\"fa fa-pencil\"/>\r\n                            </button>\r\n\r\n                            <button className=\"btn btn-outline-success float-right my-1 item-control\" onClick={this.onAddClick}>\r\n                                <i className=\"fa fa-plus\"/>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <br/>\r\n                        <br/>\r\n\r\n                        {addWindow}\r\n\r\n                        {editWindow}\r\n\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Title</th>\r\n                                <th>Author</th>\r\n                                <th>Genre</th>\r\n                                <th>Year</th>\r\n                                <th>Publisher</th>\r\n                                <th>Pages</th>\r\n                                <th>Library</th>\r\n                                <th>Address</th>\r\n                                <th>Telephone</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {rows}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({booksList, librariesList, bookFundList, authorizationBlock}) => {\r\n    return {\r\n        isLoggedIn : authorizationBlock.isLoggedIn,\r\n        book_fund : bookFundList.book_fund,\r\n        books : booksList.books,\r\n        libraries : librariesList.libraries,\r\n        loading : bookFundList.loading,\r\n        isAddWindow : bookFundList.isAddWindow,\r\n        isEditWindow : bookFundList.isEditWindow,\r\n        addBookFund : bookFundList.addBookFund,\r\n        editBookFund : bookFundList.editBookFund,\r\n        selectedItem : bookFundList.selectedItem\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onRequest : () => {dispatch(bookFundRequested())},\r\n        onLoadedBooks : (newBooks) => {dispatch(booksLoaded(newBooks))},\r\n        onLoadedLibraries : (newLibraries) => {dispatch(librariesLoaded(newLibraries))},\r\n        onLoaded : (newBookFund) => {dispatch(bookFundLoaded(newBookFund))},\r\n        changeAddWindow : (value) => {dispatch(bookFundShowAddWindow(value))},\r\n        changeEditWindow : (value) => {dispatch(bookFundShowEditWindow(value))},\r\n        changeAddBook : (value) => {dispatch(bookFundUpdateAddBookField(value))},\r\n        changeAddLibrary : (value) => {dispatch(bookFundUpdateAddLibraryField(value))},\r\n        changeAddAmount : (value) => {dispatch(bookFundUpdateAddAmountField(value))},\r\n        changeEditBook : (value) => {dispatch(bookFundUpdateEditBookField(value))},\r\n        changeEditLibrary : (value) => {dispatch(bookFundUpdateEditLibraryField(value))},\r\n        changeEditAmount : (value) => {dispatch(bookFundUpdateEditAmountField(value))},\r\n        changeItem : (item) => {dispatch(booksFundUpdateSelectedItem(item))}\r\n    }\r\n};\r\n\r\nexport default compose(\r\n        withLibraryService(),\r\n        connect(mapStateToProps, mapDispatchToProps)\r\n    )(BookFundPage);"]},"metadata":{},"sourceType":"module"}