{"ast":null,"code":"var _jsxFileName = \"D:\\\\libraryservice\\\\frontpages\\\\src\\\\components\\\\books-page\\\\books-page.js\";\nimport React, { Component } from \"react\";\nimport Header from \"../header\";\nimport Spinner from \"../spinner\";\nimport { compose } from \"../../utils\";\nimport { connect } from \"react-redux\";\nimport withLibraryService from \"../../hoc\";\nimport { booksRequested, booksLoaded, booksUpdateAddTitleField, booksUpdateAddAuthorField, booksUpdateAddGenreField, booksUpdateAddYearField, booksUpdateAddPublisherField, booksUpdateAddPagesField, booksUpdateEditTitleField, booksUpdateEditAuthorField, booksUpdateEditGenreField, booksUpdateEditYearField, booksUpdateEditPublisherField, booksUpdateEditPagesField, booksUpdateSelectedItem } from \"../../actions/books-actions\";\nimport { authorsLoaded } from \"../../actions/authors-actions\";\nimport { genresLoaded } from \"../../actions/genres-actions\";\nimport { publishersLoaded } from \"../../actions/publishers-actions\";\nimport \"./books-page.css\";\n\nclass BooksPage extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getAllAuthors = async () => {\n      let authors = await this.props.libraryService.getAllAuthors();\n      this.props.onLoadedAuthors(authors);\n    };\n\n    this.getAllGenres = async () => {\n      let genres = await this.props.libraryService.getAllGenres();\n      this.props.onLoadedGenres(genres);\n    };\n\n    this.getAllPublishers = async () => {\n      let publishers = await this.props.libraryService.getAllPublishers();\n      this.props.onLoadedPublishers(publishers);\n    };\n\n    this.getAllBooks = async () => {\n      const books = await this.props.libraryService.getAllBooks();\n      this.props.onLoaded(books);\n    };\n\n    this.findAuthor = id => {\n      return this.props.authors.find(el => el.id === +id);\n    };\n\n    this.findGenre = id => {\n      return this.props.genres.find(el => el.id === +id);\n    };\n\n    this.findPublisher = id => {\n      return this.props.publishers.find(el => el.id === +id);\n    };\n\n    this.changeAddTitle = event => {\n      event.preventDefault();\n      this.props.changeAddTitle(event.target.value);\n    };\n\n    this.changeAddAuthor = event => {\n      event.preventDefault();\n      this.props.changeAddAuthor(this.findAuthor(event.target.value));\n    };\n\n    this.changeAddGenre = event => {\n      event.preventDefault();\n      this.props.changeAddGenre(this.findGenre(event.target.value));\n    };\n\n    this.changeAddPublisher = event => {\n      event.preventDefault();\n      this.props.changeAddPublisher(this.findPublisher(event.target.value));\n    };\n\n    this.changeAddYear = event => {\n      event.preventDefault();\n      this.props.changeAddYear(event.target.value);\n    };\n\n    this.changeAddAmountOfPages = event => {\n      event.preventDefault();\n      this.props.changeAddPages(event.target.value);\n    };\n\n    this.changeEditTitle = event => {\n      event.preventDefault();\n      this.props.changeEditTitle(event.target.value);\n    };\n\n    this.changeEditAuthor = event => {\n      event.preventDefault();\n      this.props.changeEditAuthor(this.findAuthor(event.target.value));\n    };\n\n    this.changeEditGenre = event => {\n      event.preventDefault();\n      this.props.changeEditGenre(this.findGenre(event.target.value));\n    };\n\n    this.changeEditPublisher = event => {\n      event.preventDefault();\n      this.props.changeEditPublisher(this.findPublisher(event.target.value));\n    };\n\n    this.changeEditYear = event => {\n      event.preventDefault();\n      this.props.changeEditYear(event.target.value);\n    };\n\n    this.changeEditAmountOfPages = event => {\n      event.preventDefault();\n      this.props.changeEditPages(event.target.value);\n    };\n\n    this.onAddBook = async event => {\n      event.preventDefault();\n      const {\n        addTitle,\n        addAuthor,\n        addGenre,\n        addYear,\n        addPublisher,\n        addAmountOfPages\n      } = this.props.addBook;\n      const book = {\n        title: addTitle,\n        author: addAuthor,\n        genre: addGenre,\n        year: +addYear,\n        publisher: addPublisher,\n        amount_pages: +addAmountOfPages\n      };\n      await this.props.libraryService.addBook(book);\n      this.props.onRequest();\n      this.getAllBooks();\n    };\n\n    this.onEditBook = async event => {\n      event.preventDefault();\n      const {\n        editTitle,\n        editAuthor,\n        editGenre,\n        editYear,\n        editPublisher,\n        editAmountOfPages\n      } = this.props.editBook;\n      const book = {\n        id: this.props.selectedItem,\n        title: editTitle,\n        author: editAuthor,\n        genre: editGenre,\n        year: +editYear,\n        publisher: editPublisher,\n        amount_pages: +editAmountOfPages\n      };\n      await this.props.libraryService.editBook(book);\n      this.props.onRequest();\n      this.getAllBooks();\n    };\n\n    this.onDeleteBook = async event => {\n      event.preventDefault();\n\n      if (this.props.selectedItem != null) {\n        await this.props.libraryService.deleteBook(this.props.selectedItem);\n        this.props.onRequest();\n        this.getAllBooks();\n      }\n    };\n\n    this.selectedRow = item => {\n      const {\n        id,\n        ...data\n      } = item;\n      const book = {\n        editTitle: data.title,\n        editAuthor: data.author,\n        editGenre: data.genre,\n        editYear: data.year,\n        editPublisher: data.publisher,\n        editAmountOfPages: data.amount_pages\n      };\n      this.props.changeItem({\n        id,\n        book\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.onRequest();\n    this.getAllAuthors();\n    this.getAllGenres();\n    this.getAllPublishers();\n    this.getAllBooks();\n  }\n\n  render() {\n    if (this.props.loading) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const authors = this.props.authors.map(({\n      id,\n      surname,\n      name,\n      patronymic\n    }) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: id,\n        value: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }\n      }, surname, \" \", name, \" \", patronymic);\n    });\n    const genres = this.props.genres.map(({\n      id,\n      name\n    }) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: id,\n        value: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 17\n        }\n      }, name);\n    });\n    const publishers = this.props.publishers.map(({\n      id,\n      publisher\n    }) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: id,\n        value: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 17\n        }\n      }, publisher);\n    });\n    const rows = this.props.books.map(el => {\n      const {\n        id,\n        title,\n        author,\n        genre,\n        year,\n        publisher,\n        amount_pages\n      } = el;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"object_id\",\n        value: id,\n        onClick: () => {\n          this.selectedRow(el);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }\n      }, title), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }\n      }, author.surname, \" \", author.name, \" \", author.patronymic), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }\n      }, genre.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }\n      }, year), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }\n      }, publisher.publisher), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }\n      }, amount_pages));\n    });\n    const {\n      addTitle,\n      addAuthor,\n      addGenre,\n      addYear,\n      addPublisher,\n      addAmountOfPages\n    } = this.props.addBook;\n    const {\n      editTitle,\n      editAuthor,\n      editGenre,\n      editYear,\n      editPublisher,\n      editAmountOfPages\n    } = this.props.editBook; // console.log(addAuthor);\n    // console.log(addGenre);\n    // console.log(editAuthor);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container books-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 25\n      }\n    }, \"Books\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"books-tools\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-danger float-right my-1 item-control\",\n      onClick: this.onDeleteBook,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-warning float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#edit-book-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-outline-success float-right my-1 item-control\",\n      \"data-toggle\": \"collapse\",\n      href: \"#add-book-block\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse\",\n      id: \"add-book-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onAddBook,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"books-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write title of new book here...\",\n      className: \"form-control mb-2  form-label\",\n      onChange: this.changeAddTitle,\n      value: addTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown d-inline-block mb-2 form-label col ml-0 mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"add-author-list\",\n      className: \"form-control\",\n      onChange: this.changeAddAuthor,\n      value: addAuthor.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 49\n      }\n    }, authors)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown d-inline-block mb-2 form-label col ml-1 mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"add-genre-list\",\n      className: \"form-control\",\n      onChange: this.changeAddGenre,\n      value: addGenre.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 49\n      }\n    }, genres)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown d-inline-block mb-2 form-label col ml-1 mr-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"add-publisher-list\",\n      className: \"form-control\",\n      onChange: this.changeAddPublisher,\n      value: addPublisher.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 49\n      }\n    }, publishers))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write year of new book here...\",\n      className: \"form-control mb-2 form-label\",\n      onChange: this.changeAddYear,\n      value: addYear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write amount of pages of new book here...\",\n      className: \"form-control mb-2 form-label\",\n      onChange: this.changeAddAmountOfPages,\n      value: addAmountOfPages,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info form-button mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 41\n      }\n    }, \"Add\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse\",\n      id: \"edit-book-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onEditBook,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"books-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write title of new book here...\",\n      className: \"form-control mb-2 form-label\",\n      onChange: this.changeEditTitle,\n      value: editTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown d-inline-block mb-2 form-label col ml-0 mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"edit-author-list\",\n      className: \"form-control\",\n      onChange: this.changeEditAuthor,\n      value: editAuthor.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 49\n      }\n    }, authors)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown d-inline-block mb-2 form-label col ml-1 mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"edit-genre-list\",\n      className: \"form-control\",\n      onChange: this.changeEditGenre,\n      value: editGenre.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 49\n      }\n    }, genres)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown d-inline-block mb-2 form-label col ml-1 mr-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"edit-publisher-list\",\n      className: \"form-control\",\n      onChange: this.changeEditPublisher,\n      value: editPublisher.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 49\n      }\n    }, publishers))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write year of new book here...\",\n      className: \"form-control mb-2 form-label\",\n      onChange: this.changeEditYear,\n      value: editYear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Write amount of pages of new book here...\",\n      className: \"form-control mb-2 form-label\",\n      onChange: this.changeEditAmountOfPages,\n      value: editAmountOfPages,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info form-button mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 41\n      }\n    }, \"Update\"))))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 33\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 33\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 33\n      }\n    }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 33\n      }\n    }, \"Genre\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 33\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 33\n      }\n    }, \"Publisher\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 33\n      }\n    }, \"Amount of pages\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 29\n      }\n    }, rows)))));\n  }\n\n}\n\nconst mapStateToProps = ({\n  authorsList,\n  genresList,\n  publishersList,\n  booksList\n}) => {\n  return {\n    books: booksList.books,\n    loading: booksList.loading,\n    error: booksList.error,\n    authors: authorsList.authors,\n    genres: genresList.genres,\n    publishers: publishersList.publishers,\n    addBook: booksList.addBook,\n    editBook: booksList.editBook,\n    selectedItem: booksList.selectedItem\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onRequest: () => {\n      dispatch(booksRequested());\n    },\n    onLoadedAuthors: newAuthors => {\n      dispatch(authorsLoaded(newAuthors));\n    },\n    onLoadedGenres: newGenres => {\n      dispatch(genresLoaded(newGenres));\n    },\n    onLoadedPublishers: newPublishers => {\n      dispatch(publishersLoaded(newPublishers));\n    },\n    onLoaded: newBooks => {\n      dispatch(booksLoaded(newBooks));\n    },\n    changeAddTitle: value => {\n      dispatch(booksUpdateAddTitleField(value));\n    },\n    changeAddAuthor: value => {\n      dispatch(booksUpdateAddAuthorField(value));\n    },\n    changeAddGenre: value => {\n      dispatch(booksUpdateAddGenreField(value));\n    },\n    changeAddYear: value => {\n      dispatch(booksUpdateAddYearField(value));\n    },\n    changeAddPublisher: value => {\n      dispatch(booksUpdateAddPublisherField(value));\n    },\n    changeAddPages: value => {\n      dispatch(booksUpdateAddPagesField(value));\n    },\n    changeEditTitle: value => {\n      dispatch(booksUpdateEditTitleField(value));\n    },\n    changeEditAuthor: value => {\n      dispatch(booksUpdateEditAuthorField(value));\n    },\n    changeEditGenre: value => {\n      dispatch(booksUpdateEditGenreField(value));\n    },\n    changeEditYear: value => {\n      dispatch(booksUpdateEditYearField(value));\n    },\n    changeEditPublisher: value => {\n      dispatch(booksUpdateEditPublisherField(value));\n    },\n    changeEditPages: value => {\n      dispatch(booksUpdateEditPagesField(value));\n    },\n    changeItem: item => {\n      dispatch(booksUpdateSelectedItem(item));\n    }\n  };\n};\n\nexport default compose(withLibraryService(), connect(mapStateToProps, mapDispatchToProps))(BooksPage);","map":{"version":3,"sources":["D:/libraryservice/frontpages/src/components/books-page/books-page.js"],"names":["React","Component","Header","Spinner","compose","connect","withLibraryService","booksRequested","booksLoaded","booksUpdateAddTitleField","booksUpdateAddAuthorField","booksUpdateAddGenreField","booksUpdateAddYearField","booksUpdateAddPublisherField","booksUpdateAddPagesField","booksUpdateEditTitleField","booksUpdateEditAuthorField","booksUpdateEditGenreField","booksUpdateEditYearField","booksUpdateEditPublisherField","booksUpdateEditPagesField","booksUpdateSelectedItem","authorsLoaded","genresLoaded","publishersLoaded","BooksPage","getAllAuthors","authors","props","libraryService","onLoadedAuthors","getAllGenres","genres","onLoadedGenres","getAllPublishers","publishers","onLoadedPublishers","getAllBooks","books","onLoaded","findAuthor","id","find","el","findGenre","findPublisher","changeAddTitle","event","preventDefault","target","value","changeAddAuthor","changeAddGenre","changeAddPublisher","changeAddYear","changeAddAmountOfPages","changeAddPages","changeEditTitle","changeEditAuthor","changeEditGenre","changeEditPublisher","changeEditYear","changeEditAmountOfPages","changeEditPages","onAddBook","addTitle","addAuthor","addGenre","addYear","addPublisher","addAmountOfPages","addBook","book","title","author","genre","year","publisher","amount_pages","onRequest","onEditBook","editTitle","editAuthor","editGenre","editYear","editPublisher","editAmountOfPages","editBook","selectedItem","onDeleteBook","deleteBook","selectedRow","item","data","changeItem","componentDidMount","render","loading","map","surname","name","patronymic","rows","mapStateToProps","authorsList","genresList","publishersList","booksList","error","mapDispatchToProps","dispatch","newAuthors","newGenres","newPublishers","newBooks"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport Header from \"../header\";\r\nimport Spinner from \"../spinner\";\r\nimport {compose} from \"../../utils\";\r\nimport {connect} from \"react-redux\";\r\nimport withLibraryService from \"../../hoc\";\r\nimport {\r\n    booksRequested,\r\n    booksLoaded,\r\n    booksUpdateAddTitleField,\r\n    booksUpdateAddAuthorField,\r\n    booksUpdateAddGenreField,\r\n    booksUpdateAddYearField,\r\n    booksUpdateAddPublisherField,\r\n    booksUpdateAddPagesField,\r\n    booksUpdateEditTitleField,\r\n    booksUpdateEditAuthorField,\r\n    booksUpdateEditGenreField,\r\n    booksUpdateEditYearField,\r\n    booksUpdateEditPublisherField,\r\n    booksUpdateEditPagesField,\r\n    booksUpdateSelectedItem\r\n} from \"../../actions/books-actions\";\r\nimport {authorsLoaded} from \"../../actions/authors-actions\";\r\nimport {genresLoaded} from \"../../actions/genres-actions\";\r\nimport {publishersLoaded} from \"../../actions/publishers-actions\";\r\nimport \"./books-page.css\";\r\n\r\nclass BooksPage extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.onRequest();\r\n        this.getAllAuthors();\r\n        this.getAllGenres();\r\n        this.getAllPublishers();\r\n        this.getAllBooks();\r\n    }\r\n\r\n    getAllAuthors = async () => {\r\n        let authors = await this.props.libraryService.getAllAuthors();\r\n        this.props.onLoadedAuthors(authors);\r\n    };\r\n\r\n    getAllGenres = async () => {\r\n        let genres = await this.props.libraryService.getAllGenres();\r\n        this.props.onLoadedGenres(genres);\r\n    };\r\n\r\n    getAllPublishers = async () => {\r\n        let publishers = await this.props.libraryService.getAllPublishers();\r\n        this.props.onLoadedPublishers(publishers);\r\n    };\r\n\r\n    getAllBooks = async () => {\r\n        const books = await this.props.libraryService.getAllBooks();\r\n        this.props.onLoaded(books);\r\n    };\r\n\r\n    findAuthor = (id) => {\r\n        return this.props.authors.find((el) => el.id === +id);\r\n    };\r\n\r\n    findGenre = (id) => {\r\n        return this.props.genres.find((el) => el.id === +id);\r\n    };\r\n\r\n    findPublisher = (id) => {\r\n        return this.props.publishers.find((el) => el.id === +id);\r\n    };\r\n\r\n    changeAddTitle = event => {\r\n        event.preventDefault();\r\n        this.props.changeAddTitle(event.target.value);\r\n    };\r\n\r\n    changeAddAuthor = event => {\r\n        event.preventDefault();\r\n        this.props.changeAddAuthor(this.findAuthor(event.target.value));\r\n    };\r\n\r\n    changeAddGenre = event => {\r\n        event.preventDefault();\r\n        this.props.changeAddGenre(this.findGenre(event.target.value));\r\n    };\r\n\r\n    changeAddPublisher= event => {\r\n        event.preventDefault();\r\n        this.props.changeAddPublisher(this.findPublisher(event.target.value));\r\n    };\r\n\r\n    changeAddYear= event => {\r\n        event.preventDefault();\r\n        this.props.changeAddYear(event.target.value);\r\n    };\r\n\r\n    changeAddAmountOfPages = event => {\r\n        event.preventDefault();\r\n        this.props.changeAddPages(event.target.value);\r\n    };\r\n\r\n    changeEditTitle = event => {\r\n        event.preventDefault();\r\n        this.props.changeEditTitle(event.target.value);\r\n    };\r\n\r\n    changeEditAuthor = event => {\r\n        event.preventDefault();\r\n        this.props.changeEditAuthor(this.findAuthor(event.target.value));\r\n    };\r\n\r\n    changeEditGenre = event => {\r\n        event.preventDefault();\r\n        this.props.changeEditGenre(this.findGenre(event.target.value));\r\n    };\r\n\r\n    changeEditPublisher= event => {\r\n        event.preventDefault();\r\n        this.props.changeEditPublisher(this.findPublisher(event.target.value));\r\n    };\r\n\r\n    changeEditYear= event => {\r\n        event.preventDefault();\r\n        this.props.changeEditYear(event.target.value);\r\n    };\r\n\r\n    changeEditAmountOfPages = event => {\r\n        event.preventDefault();\r\n        this.props.changeEditPages(event.target.value);\r\n    };\r\n\r\n    onAddBook = async event => {\r\n        event.preventDefault();\r\n\r\n        const {addTitle, addAuthor, addGenre, addYear, addPublisher, addAmountOfPages} = this.props.addBook;\r\n        const book = {\r\n            title : addTitle,\r\n            author : addAuthor,\r\n            genre : addGenre,\r\n            year : +addYear,\r\n            publisher : addPublisher,\r\n            amount_pages : +addAmountOfPages\r\n        };\r\n\r\n        await this.props.libraryService.addBook(book);\r\n        this.props.onRequest();\r\n        this.getAllBooks();\r\n    };\r\n\r\n    onEditBook = async event => {\r\n        event.preventDefault();\r\n\r\n        const { editTitle, editAuthor, editGenre, editYear, editPublisher, editAmountOfPages} = this.props.editBook;\r\n        const book = {\r\n            id : this.props.selectedItem,\r\n            title : editTitle,\r\n            author : editAuthor,\r\n            genre : editGenre,\r\n            year : +editYear,\r\n            publisher : editPublisher,\r\n            amount_pages : +editAmountOfPages\r\n        };\r\n\r\n        await this.props.libraryService.editBook(book);\r\n        this.props.onRequest();\r\n        this.getAllBooks();\r\n    };\r\n\r\n    onDeleteBook = async event => {\r\n        event.preventDefault();\r\n\r\n        if(this.props.selectedItem != null) {\r\n            await this.props.libraryService.deleteBook(this.props.selectedItem);\r\n            this.props.onRequest();\r\n            this.getAllBooks();\r\n        }\r\n    };\r\n\r\n    selectedRow = (item) => {\r\n        const {id, ...data} = item;\r\n        const book = {\r\n            editTitle : data.title,\r\n            editAuthor : data.author,\r\n            editGenre : data.genre,\r\n            editYear : data.year,\r\n            editPublisher : data.publisher,\r\n            editAmountOfPages : data.amount_pages\r\n        };\r\n        this.props.changeItem({id, book});\r\n    };\r\n\r\n    render () {\r\n\r\n        if(this.props.loading){\r\n            return <Spinner/>\r\n        }\r\n\r\n        const authors = this.props.authors.map(({id, surname, name, patronymic} )=> {\r\n            return (\r\n                <option key={id} value={id}>{surname} {name} {patronymic}</option>\r\n            )\r\n        });\r\n\r\n        const genres = this.props.genres.map(({id, name}) => {\r\n            return (\r\n                <option key={id} value={id}>{name}</option>\r\n            )\r\n        });\r\n\r\n        const publishers = this.props.publishers.map(({id, publisher}) => {\r\n            return (\r\n                <option key={id} value={id}>{publisher}</option>\r\n            )\r\n        });\r\n\r\n        const rows = this.props.books.map((el) => {\r\n\r\n            const {id, title, author, genre, year, publisher, amount_pages} = el;\r\n\r\n            return (\r\n                <tr key={id}>\r\n                    <td><input type=\"radio\" name=\"object_id\" value={id} onClick={() => {this.selectedRow(el)}}/></td>\r\n                    <td>{title}</td>\r\n                    <td>{author.surname} {author.name} {author.patronymic}</td>\r\n                    <td>{genre.name}</td>\r\n                    <td>{year}</td>\r\n                    <td>{publisher.publisher}</td>\r\n                    <td>{amount_pages}</td>\r\n                </tr>\r\n            )\r\n        });\r\n\r\n        const {addTitle, addAuthor, addGenre, addYear, addPublisher, addAmountOfPages} = this.props.addBook;\r\n        const {editTitle, editAuthor, editGenre, editYear, editPublisher, editAmountOfPages} = this.props.editBook;\r\n\r\n        // console.log(addAuthor);\r\n        // console.log(addGenre);\r\n        // console.log(editAuthor);\r\n\r\n        return (\r\n            <div>\r\n                <Header/>\r\n\r\n                <main role=\"main\">\r\n\r\n                    <div className=\"container books-page\">\r\n                        <h1>Books</h1>\r\n\r\n                        <div className=\"books-tools\">\r\n                            <button className=\"btn btn-outline-danger float-right my-1 item-control\" onClick={this.onDeleteBook}>\r\n                                <i className=\"fa fa-trash-o\"/>\r\n                            </button>\r\n\r\n                            <a className=\"btn btn-outline-warning float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#edit-book-block\" role=\"button\"\r\n                               aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                                <i className=\"fa fa-pencil\"/>\r\n                            </a>\r\n\r\n                            <a className=\"btn btn-outline-success float-right my-1 item-control\" data-toggle=\"collapse\" href=\"#add-book-block\" role=\"button\"\r\n                               aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                                <i className=\"fa fa-plus\"/>\r\n                            </a>\r\n                        </div>\r\n\r\n                        <br/>\r\n                        <br/>\r\n\r\n                        <div className=\"collapse\" id=\"add-book-block\">\r\n                            <div className=\"card card-body mb-2\">\r\n                                <form onSubmit={this.onAddBook}>\r\n                                    <div className=\"books-form\">\r\n                                        <input type=\"text\" placeholder=\"Write title of new book here...\" className=\"form-control mb-2  form-label\" onChange={this.changeAddTitle} value={addTitle}/>\r\n\r\n                                        <div className=\"row\">\r\n\r\n                                            <div className=\"dropdown d-inline-block mb-2 form-label col ml-0 mr-1\">\r\n                                                <select id=\"add-author-list\" className=\"form-control\" onChange={this.changeAddAuthor} value={addAuthor.id}>\r\n                                                    {authors}\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"dropdown d-inline-block mb-2 form-label col ml-1 mr-1\">\r\n                                                <select id=\"add-genre-list\" className=\"form-control\" onChange={this.changeAddGenre} value={addGenre.id}>\r\n                                                    {genres}\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"dropdown d-inline-block mb-2 form-label col ml-1 mr-0\">\r\n                                                <select id=\"add-publisher-list\" className=\"form-control\" onChange={this.changeAddPublisher} value={addPublisher.id}>\r\n                                                    {publishers}\r\n                                                </select>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                        \r\n                                        <input type=\"text\" placeholder=\"Write year of new book here...\" className=\"form-control mb-2 form-label\" onChange={this.changeAddYear} value={addYear}/>\r\n                                        <input type=\"text\" placeholder=\"Write amount of pages of new book here...\" className=\"form-control mb-2 form-label\" onChange={this.changeAddAmountOfPages} value={addAmountOfPages}/>\r\n                                        <button type=\"submit\" className=\"btn btn-info form-button mt-2\">Add</button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"collapse\" id=\"edit-book-block\">\r\n                            <div className=\"card card-body mb-2\">\r\n                                <form onSubmit={this.onEditBook}>\r\n                                    <div className=\"books-form\">\r\n                                        <input type=\"text\" placeholder=\"Write title of new book here...\" className=\"form-control mb-2 form-label\" onChange={this.changeEditTitle} value={editTitle}/>\r\n                                        <div className=\"row\">\r\n\r\n                                            <div className=\"dropdown d-inline-block mb-2 form-label col ml-0 mr-1\">\r\n                                                <select id=\"edit-author-list\" className=\"form-control\" onChange={this.changeEditAuthor} value={editAuthor.id}>\r\n                                                    {authors}\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"dropdown d-inline-block mb-2 form-label col ml-1 mr-1\">\r\n                                                <select id=\"edit-genre-list\" className=\"form-control\" onChange={this.changeEditGenre} value={editGenre.id}>\r\n                                                    {genres}\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"dropdown d-inline-block mb-2 form-label col ml-1 mr-0\">\r\n                                                <select id=\"edit-publisher-list\" className=\"form-control\" onChange={this.changeEditPublisher} value={editPublisher.id}>\r\n                                                    {publishers}\r\n                                                </select>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <input type=\"text\" placeholder=\"Write year of new book here...\" className=\"form-control mb-2 form-label\" onChange={this.changeEditYear} value={editYear}/>\r\n                                        <input type=\"text\" placeholder=\"Write amount of pages of new book here...\" className=\"form-control mb-2 form-label\" onChange={this.changeEditAmountOfPages} value={editAmountOfPages}/>\r\n                                        <button type=\"submit\" className=\"btn btn-info form-button mt-2\">Update</button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Title</th>\r\n                                <th>Author</th>\r\n                                <th>Genre</th>\r\n                                <th>Year</th>\r\n                                <th>Publisher</th>\r\n                                <th>Amount of pages</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {rows}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({authorsList, genresList, publishersList, booksList}) => {\r\n    return {\r\n        books : booksList.books,\r\n        loading : booksList.loading,\r\n        error : booksList.error,\r\n        authors : authorsList.authors,\r\n        genres : genresList.genres,\r\n        publishers : publishersList.publishers,\r\n        addBook : booksList.addBook,\r\n        editBook : booksList.editBook,\r\n        selectedItem : booksList.selectedItem\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onRequest : () => {dispatch(booksRequested())},\r\n        onLoadedAuthors : (newAuthors) => {dispatch(authorsLoaded(newAuthors))},\r\n        onLoadedGenres : (newGenres) => {dispatch(genresLoaded(newGenres))},\r\n        onLoadedPublishers : (newPublishers) => {dispatch(publishersLoaded(newPublishers))},\r\n        onLoaded : (newBooks) => {dispatch(booksLoaded(newBooks))},\r\n        changeAddTitle : (value) => {dispatch(booksUpdateAddTitleField(value))},\r\n        changeAddAuthor : (value) => {dispatch(booksUpdateAddAuthorField(value))},\r\n        changeAddGenre : (value) => {dispatch(booksUpdateAddGenreField(value))},\r\n        changeAddYear : (value) => {dispatch(booksUpdateAddYearField(value))},\r\n        changeAddPublisher : (value) => {dispatch(booksUpdateAddPublisherField(value))},\r\n        changeAddPages : (value) => {dispatch(booksUpdateAddPagesField(value))},\r\n        changeEditTitle : (value) => {dispatch(booksUpdateEditTitleField(value))},\r\n        changeEditAuthor : (value) => {dispatch(booksUpdateEditAuthorField(value))},\r\n        changeEditGenre : (value) => {dispatch(booksUpdateEditGenreField(value))},\r\n        changeEditYear : (value) => {dispatch(booksUpdateEditYearField(value))},\r\n        changeEditPublisher : (value) => {dispatch(booksUpdateEditPublisherField(value))},\r\n        changeEditPages : (value) => {dispatch(booksUpdateEditPagesField(value))},\r\n        changeItem : (item) => {dispatch(booksUpdateSelectedItem(item))}\r\n    }\r\n};\r\n\r\nexport default compose(\r\n        withLibraryService(),\r\n        connect(mapStateToProps, mapDispatchToProps)\r\n    )(BooksPage);"]},"metadata":{},"sourceType":"module"}